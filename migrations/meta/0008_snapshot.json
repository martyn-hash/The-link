{
  "id": "f875df90-7de5-4d1c-8c8b-fd34305eabd5",
  "prevId": "e33083ca-83e5-454a-9633-05e6b5bd9d9c",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.company_views": {
      "name": "company_views",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "filters": {
          "name": "filters",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_company_views_user_id": {
          "name": "idx_company_views_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "company_views_user_id_users_id_fk": {
          "name": "company_views_user_id_users_id_fk",
          "tableFrom": "company_views",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dashboard_cache": {
      "name": "dashboard_cache",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "my_tasks_count": {
          "name": "my_tasks_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "my_projects_count": {
          "name": "my_projects_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "overdue_tasks_count": {
          "name": "overdue_tasks_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "behind_schedule_count": {
          "name": "behind_schedule_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_dashboard_cache_user_id": {
          "name": "idx_dashboard_cache_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dashboard_cache_last_updated": {
          "name": "idx_dashboard_cache_last_updated",
          "columns": [
            {
              "expression": "last_updated",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "dashboard_cache_user_id_users_id_fk": {
          "name": "dashboard_cache_user_id_users_id_fk",
          "tableFrom": "dashboard_cache",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "dashboard_cache_user_id_unique": {
          "name": "dashboard_cache_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dashboards": {
      "name": "dashboards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "filters": {
          "name": "filters",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "widgets": {
          "name": "widgets",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "visibility": {
          "name": "visibility",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'private'"
        },
        "is_homescreen_dashboard": {
          "name": "is_homescreen_dashboard",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_dashboards_user_id": {
          "name": "idx_dashboards_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dashboards_visibility": {
          "name": "idx_dashboards_visibility",
          "columns": [
            {
              "expression": "visibility",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_dashboards_homescreen": {
          "name": "idx_dashboards_homescreen",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_homescreen_dashboard",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "dashboards_user_id_users_id_fk": {
          "name": "dashboards_user_id_users_id_fk",
          "tableFrom": "dashboards",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.login_attempts": {
      "name": "login_attempts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "browser": {
          "name": "browser",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "os": {
          "name": "os",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_login_attempts_email": {
          "name": "idx_login_attempts_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_login_attempts_timestamp": {
          "name": "idx_login_attempts_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_login_attempts_success": {
          "name": "idx_login_attempts_success",
          "columns": [
            {
              "expression": "success",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.magic_link_tokens": {
      "name": "magic_link_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "code_hash": {
          "name": "code_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now() + interval '10 minutes'"
        },
        "used": {
          "name": "used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "magic_link_tokens_user_id_users_id_fk": {
          "name": "magic_link_tokens_user_id_users_id_fk",
          "tableFrom": "magic_link_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "magic_link_tokens_token_hash_unique": {
          "name": "magic_link_tokens_token_hash_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token_hash"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_views": {
      "name": "project_views",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "filters": {
          "name": "filters",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "view_mode": {
          "name": "view_mode",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_project_views_user_id": {
          "name": "idx_project_views_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_views_user_id_users_id_fk": {
          "name": "project_views_user_id_users_id_fk",
          "tableFrom": "project_views",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "sid": {
          "name": "sid",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "sess": {
          "name": "sess",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "expire": {
          "name": "expire",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "IDX_session_expire": {
          "name": "IDX_session_expire",
          "columns": [
            {
              "expression": "expire",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_column_preferences": {
      "name": "user_column_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "view_type": {
          "name": "view_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'projects'"
        },
        "column_order": {
          "name": "column_order",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "visible_columns": {
          "name": "visible_columns",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "column_widths": {
          "name": "column_widths",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_column_preferences_user_id": {
          "name": "idx_user_column_preferences_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_column_preferences_user_id_users_id_fk": {
          "name": "user_column_preferences_user_id_users_id_fk",
          "tableFrom": "user_column_preferences",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_view_type": {
          "name": "unique_user_view_type",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "view_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_notification_preferences": {
      "name": "user_notification_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "notify_stage_changes": {
          "name": "notify_stage_changes",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notify_new_projects": {
          "name": "notify_new_projects",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notify_scheduling_summary": {
          "name": "notify_scheduling_summary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_notification_preferences_user_id_users_id_fk": {
          "name": "user_notification_preferences_user_id_users_id_fk",
          "tableFrom": "user_notification_preferences",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_notification_preferences_user_id_unique": {
          "name": "user_notification_preferences_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_oauth_accounts": {
      "name": "user_oauth_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "provider_account_id": {
          "name": "provider_account_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "access_token_encrypted": {
          "name": "access_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token_encrypted": {
          "name": "refresh_token_encrypted",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "token_type": {
          "name": "token_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'Bearer'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_oauth_accounts_user_id": {
          "name": "idx_user_oauth_accounts_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_oauth_accounts_provider": {
          "name": "idx_user_oauth_accounts_provider",
          "columns": [
            {
              "expression": "provider",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_oauth_accounts_user_id_users_id_fk": {
          "name": "user_oauth_accounts_user_id_users_id_fk",
          "tableFrom": "user_oauth_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_provider": {
          "name": "unique_user_provider",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "provider"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_project_preferences": {
      "name": "user_project_preferences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "default_view_id": {
          "name": "default_view_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "default_view_type": {
          "name": "default_view_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_project_preferences_user_id": {
          "name": "idx_user_project_preferences_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_project_preferences_user_id_users_id_fk": {
          "name": "user_project_preferences_user_id_users_id_fk",
          "tableFrom": "user_project_preferences",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_project_preferences_user_id_unique": {
          "name": "user_project_preferences_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_sessions": {
      "name": "user_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "login_time": {
          "name": "login_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_activity": {
          "name": "last_activity",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "logout_time": {
          "name": "logout_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "browser": {
          "name": "browser",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "device": {
          "name": "device",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "os": {
          "name": "os",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "platform_type": {
          "name": "platform_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "push_enabled": {
          "name": "push_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "session_duration": {
          "name": "session_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        }
      },
      "indexes": {
        "idx_user_sessions_user_id": {
          "name": "idx_user_sessions_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_sessions_login_time": {
          "name": "idx_user_sessions_login_time",
          "columns": [
            {
              "expression": "login_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_sessions_is_active": {
          "name": "idx_user_sessions_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_sessions_user_id_users_id_fk": {
          "name": "user_sessions_user_id_users_id_fk",
          "tableFrom": "user_sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email_signature": {
          "name": "email_signature",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "calendly_link": {
          "name": "calendly_link",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_admin": {
          "name": "is_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "can_see_admin_menu": {
          "name": "can_see_admin_menu",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "super_admin": {
          "name": "super_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_fallback_user": {
          "name": "is_fallback_user",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "push_notifications_enabled": {
          "name": "push_notifications_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notification_preferences": {
          "name": "notification_preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "can_make_services_inactive": {
          "name": "can_make_services_inactive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "can_make_projects_inactive": {
          "name": "can_make_projects_inactive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_chronology": {
      "name": "client_chronology",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "from_value": {
          "name": "from_value",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "to_value": {
          "name": "to_value",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "change_reason": {
          "name": "change_reason",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_client_chronology_client_id": {
          "name": "idx_client_chronology_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_chronology_event_type": {
          "name": "idx_client_chronology_event_type",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_chronology_timestamp": {
          "name": "idx_client_chronology_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_chronology_entity": {
          "name": "idx_client_chronology_entity",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_chronology_client_id_clients_id_fk": {
          "name": "client_chronology_client_id_clients_id_fk",
          "tableFrom": "client_chronology",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_chronology_user_id_users_id_fk": {
          "name": "client_chronology_user_id_users_id_fk",
          "tableFrom": "client_chronology",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_domain_allowlist": {
      "name": "client_domain_allowlist",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "match_confidence": {
          "name": "match_confidence",
          "type": "email_match_confidence",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_client_domain_allowlist_client_id": {
          "name": "idx_client_domain_allowlist_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_domain_allowlist_domain": {
          "name": "idx_client_domain_allowlist_domain",
          "columns": [
            {
              "expression": "domain",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_domain_allowlist_client_id_clients_id_fk": {
          "name": "client_domain_allowlist_client_id_clients_id_fk",
          "tableFrom": "client_domain_allowlist",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_domain_allowlist_created_by_users_id_fk": {
          "name": "client_domain_allowlist_created_by_users_id_fk",
          "tableFrom": "client_domain_allowlist",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_client_domain": {
          "name": "unique_client_domain",
          "nullsNotDistinct": false,
          "columns": [
            "client_id",
            "domain"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_email_aliases": {
      "name": "client_email_aliases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "email_lowercase": {
          "name": "email_lowercase",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "is_primary": {
          "name": "is_primary",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_client_email_aliases_client_id": {
          "name": "idx_client_email_aliases_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_email_aliases_email": {
          "name": "idx_client_email_aliases_email",
          "columns": [
            {
              "expression": "email_lowercase",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_email_aliases_client_id_clients_id_fk": {
          "name": "client_email_aliases_client_id_clients_id_fk",
          "tableFrom": "client_email_aliases",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_client_email": {
          "name": "unique_client_email",
          "nullsNotDistinct": false,
          "columns": [
            "email_lowercase"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_people": {
      "name": "client_people",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "person_id": {
          "name": "person_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "officer_role": {
          "name": "officer_role",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_primary_contact": {
          "name": "is_primary_contact",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "client_people_client_id_clients_id_fk": {
          "name": "client_people_client_id_clients_id_fk",
          "tableFrom": "client_people",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_people_person_id_people_id_fk": {
          "name": "client_people_person_id_people_id_fk",
          "tableFrom": "client_people",
          "tableTo": "people",
          "columnsFrom": [
            "person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_person_company": {
          "name": "unique_person_company",
          "nullsNotDistinct": false,
          "columns": [
            "client_id",
            "person_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_portal_sessions": {
      "name": "client_portal_sessions",
      "schema": "",
      "columns": {
        "sid": {
          "name": "sid",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "sess": {
          "name": "sess",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "expire": {
          "name": "expire",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "client_portal_sessions_expire_idx": {
          "name": "client_portal_sessions_expire_idx",
          "columns": [
            {
              "expression": "expire",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_portal_users": {
      "name": "client_portal_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "person_id": {
          "name": "person_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "magic_link_token": {
          "name": "magic_link_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_expiry": {
          "name": "token_expiry",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "verification_code": {
          "name": "verification_code",
          "type": "varchar(6)",
          "primaryKey": false,
          "notNull": false
        },
        "code_expiry": {
          "name": "code_expiry",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_login": {
          "name": "last_login",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "push_notifications_enabled": {
          "name": "push_notifications_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notification_preferences": {
          "name": "notification_preferences",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "client_portal_users_client_id_idx": {
          "name": "client_portal_users_client_id_idx",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "client_portal_users_person_id_idx": {
          "name": "client_portal_users_person_id_idx",
          "columns": [
            {
              "expression": "person_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_portal_users_client_id_clients_id_fk": {
          "name": "client_portal_users_client_id_clients_id_fk",
          "tableFrom": "client_portal_users",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_portal_users_person_id_people_id_fk": {
          "name": "client_portal_users_person_id_people_id_fk",
          "tableFrom": "client_portal_users",
          "tableTo": "people",
          "columnsFrom": [
            "person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_client_portal_email": {
          "name": "unique_client_portal_email",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_tag_assignments": {
      "name": "client_tag_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "tag_id": {
          "name": "tag_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "client_tag_assignments_client_id_clients_id_fk": {
          "name": "client_tag_assignments_client_id_clients_id_fk",
          "tableFrom": "client_tag_assignments",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_tag_assignments_tag_id_client_tags_id_fk": {
          "name": "client_tag_assignments_tag_id_client_tags_id_fk",
          "tableFrom": "client_tag_assignments",
          "tableTo": "client_tags",
          "columnsFrom": [
            "tag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_tag_assignments_assigned_by_users_id_fk": {
          "name": "client_tag_assignments_assigned_by_users_id_fk",
          "tableFrom": "client_tag_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "client_tag_assignments_client_id_tag_id_unique": {
          "name": "client_tag_assignments_client_id_tag_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "client_id",
            "tag_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_tags": {
      "name": "client_tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "color": {
          "name": "color",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'#3b82f6'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "client_tags_name_unique": {
          "name": "client_tags_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.clients": {
      "name": "clients",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "client_type": {
          "name": "client_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "company_number": {
          "name": "company_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "companies_house_name": {
          "name": "companies_house_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "company_status": {
          "name": "company_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "company_status_detail": {
          "name": "company_status_detail",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "company_type": {
          "name": "company_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_creation": {
          "name": "date_of_creation",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "jurisdiction": {
          "name": "jurisdiction",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sic_codes": {
          "name": "sic_codes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "registered_address_1": {
          "name": "registered_address_1",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "registered_address_2": {
          "name": "registered_address_2",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "registered_address_3": {
          "name": "registered_address_3",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "registered_country": {
          "name": "registered_country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "registered_postcode": {
          "name": "registered_postcode",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "accounting_reference_day": {
          "name": "accounting_reference_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "accounting_reference_month": {
          "name": "accounting_reference_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_accounts_made_up_to": {
          "name": "last_accounts_made_up_to",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_accounts_type": {
          "name": "last_accounts_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "next_accounts_due": {
          "name": "next_accounts_due",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_accounts_period_end": {
          "name": "next_accounts_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "accounts_overdue": {
          "name": "accounts_overdue",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "confirmation_statement_last_made_up_to": {
          "name": "confirmation_statement_last_made_up_to",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "confirmation_statement_next_due": {
          "name": "confirmation_statement_next_due",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "confirmation_statement_next_made_up_to": {
          "name": "confirmation_statement_next_made_up_to",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "confirmation_statement_overdue": {
          "name": "confirmation_statement_overdue",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "companies_house_data": {
          "name": "companies_house_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "manager_id": {
          "name": "manager_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_onboarded_date": {
          "name": "client_onboarded_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_charge_quote": {
          "name": "monthly_charge_quote",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "company_utr": {
          "name": "company_utr",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "companies_house_auth_code": {
          "name": "companies_house_auth_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "company_telephone": {
          "name": "company_telephone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "postal_address_1": {
          "name": "postal_address_1",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "postal_address_2": {
          "name": "postal_address_2",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "postal_address_3": {
          "name": "postal_address_3",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "postal_address_postcode": {
          "name": "postal_address_postcode",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "postal_address_country": {
          "name": "postal_address_country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "company_email_domain": {
          "name": "company_email_domain",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "trading_as": {
          "name": "trading_as",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "clients_manager_id_users_id_fk": {
          "name": "clients_manager_id_users_id_fk",
          "tableFrom": "clients",
          "tableTo": "users",
          "columnsFrom": [
            "manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.company_settings": {
      "name": "company_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email_sender_name": {
          "name": "email_sender_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'The Link Team'"
        },
        "firm_name": {
          "name": "firm_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'The Link'"
        },
        "firm_phone": {
          "name": "firm_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "firm_email": {
          "name": "firm_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "portal_url": {
          "name": "portal_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "push_notifications_enabled": {
          "name": "push_notifications_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "post_signature_redirect_urls": {
          "name": "post_signature_redirect_urls",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "logo_object_path": {
          "name": "logo_object_path",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "maintenance_mode": {
          "name": "maintenance_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "maintenance_message": {
          "name": "maintenance_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nlac_password": {
          "name": "nlac_password",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ring_central_live": {
          "name": "ring_central_live",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "app_is_live": {
          "name": "app_is_live",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "ai_system_prompt_notes": {
          "name": "ai_system_prompt_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_system_prompt_emails": {
          "name": "ai_system_prompt_emails",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ai_system_prompt_stage_notifications": {
          "name": "ai_system_prompt_stage_notifications",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.nlac_audit_logs": {
      "name": "nlac_audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "client_name": {
          "name": "client_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "nlac_reason",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "performed_by_user_id": {
          "name": "performed_by_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "performed_by_user_name": {
          "name": "performed_by_user_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "projects_deactivated": {
          "name": "projects_deactivated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "services_deactivated": {
          "name": "services_deactivated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "portal_users_deactivated": {
          "name": "portal_users_deactivated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_nlac_audit_logs_client_id": {
          "name": "idx_nlac_audit_logs_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_nlac_audit_logs_performed_by": {
          "name": "idx_nlac_audit_logs_performed_by",
          "columns": [
            {
              "expression": "performed_by_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_nlac_audit_logs_created_at": {
          "name": "idx_nlac_audit_logs_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "nlac_audit_logs_client_id_clients_id_fk": {
          "name": "nlac_audit_logs_client_id_clients_id_fk",
          "tableFrom": "nlac_audit_logs",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "nlac_audit_logs_performed_by_user_id_users_id_fk": {
          "name": "nlac_audit_logs_performed_by_user_id_users_id_fk",
          "tableFrom": "nlac_audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "performed_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.people": {
      "name": "people",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "person_number": {
          "name": "person_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "nationality": {
          "name": "nationality",
          "type": "nationality",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "country_of_residence": {
          "name": "country_of_residence",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "occupation": {
          "name": "occupation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_1": {
          "name": "address_line_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address_line_2": {
          "name": "address_line_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "locality": {
          "name": "locality",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "region": {
          "name": "region",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "telephone": {
          "name": "telephone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_phone": {
          "name": "primary_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "primary_email": {
          "name": "primary_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "telephone_2": {
          "name": "telephone_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_2": {
          "name": "email_2",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "linkedin_url": {
          "name": "linkedin_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "instagram_url": {
          "name": "instagram_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "twitter_url": {
          "name": "twitter_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "facebook_url": {
          "name": "facebook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tiktok_url": {
          "name": "tiktok_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_main_contact": {
          "name": "is_main_contact",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "receive_notifications": {
          "name": "receive_notifications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "ni_number": {
          "name": "ni_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "personal_utr_number": {
          "name": "personal_utr_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "photo_id_verified": {
          "name": "photo_id_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "address_verified": {
          "name": "address_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "initial_contact_date": {
          "name": "initial_contact_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_address_type": {
          "name": "invoice_address_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aml_complete": {
          "name": "aml_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.people_tag_assignments": {
      "name": "people_tag_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "person_id": {
          "name": "person_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "tag_id": {
          "name": "tag_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "people_tag_assignments_person_id_people_id_fk": {
          "name": "people_tag_assignments_person_id_people_id_fk",
          "tableFrom": "people_tag_assignments",
          "tableTo": "people",
          "columnsFrom": [
            "person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "people_tag_assignments_tag_id_people_tags_id_fk": {
          "name": "people_tag_assignments_tag_id_people_tags_id_fk",
          "tableFrom": "people_tag_assignments",
          "tableTo": "people_tags",
          "columnsFrom": [
            "tag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "people_tag_assignments_assigned_by_users_id_fk": {
          "name": "people_tag_assignments_assigned_by_users_id_fk",
          "tableFrom": "people_tag_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "people_tag_assignments_person_id_tag_id_unique": {
          "name": "people_tag_assignments_person_id_tag_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "person_id",
            "tag_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.people_tags": {
      "name": "people_tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "color": {
          "name": "color",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'#3b82f6'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "people_tags_name_unique": {
          "name": "people_tags_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ch_change_requests": {
      "name": "ch_change_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "old_value": {
          "name": "old_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_value": {
          "name": "new_value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ch_change_requests_client_id": {
          "name": "idx_ch_change_requests_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ch_change_requests_status": {
          "name": "idx_ch_change_requests_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_ch_change_requests_change_type": {
          "name": "idx_ch_change_requests_change_type",
          "columns": [
            {
              "expression": "change_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ch_change_requests_client_id_clients_id_fk": {
          "name": "ch_change_requests_client_id_clients_id_fk",
          "tableFrom": "ch_change_requests",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ch_change_requests_approved_by_users_id_fk": {
          "name": "ch_change_requests_approved_by_users_id_fk",
          "tableFrom": "ch_change_requests",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_service_role_assignments": {
      "name": "client_service_role_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_service_id": {
          "name": "client_service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "work_role_id": {
          "name": "work_role_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_client_service_role_assignments_client_service_id": {
          "name": "idx_client_service_role_assignments_client_service_id",
          "columns": [
            {
              "expression": "client_service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_service_role_assignments_work_role_id": {
          "name": "idx_client_service_role_assignments_work_role_id",
          "columns": [
            {
              "expression": "work_role_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_service_role_assignments_user_id": {
          "name": "idx_client_service_role_assignments_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_service_role_assignments_active": {
          "name": "idx_client_service_role_assignments_active",
          "columns": [
            {
              "expression": "client_service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "work_role_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_service_role_assignments_client_service_id_client_services_id_fk": {
          "name": "client_service_role_assignments_client_service_id_client_services_id_fk",
          "tableFrom": "client_service_role_assignments",
          "tableTo": "client_services",
          "columnsFrom": [
            "client_service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_service_role_assignments_work_role_id_work_roles_id_fk": {
          "name": "client_service_role_assignments_work_role_id_work_roles_id_fk",
          "tableFrom": "client_service_role_assignments",
          "tableTo": "work_roles",
          "columnsFrom": [
            "work_role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_service_role_assignments_user_id_users_id_fk": {
          "name": "client_service_role_assignments_user_id_users_id_fk",
          "tableFrom": "client_service_role_assignments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_services": {
      "name": "client_services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "service_owner_id": {
          "name": "service_owner_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "next_start_date": {
          "name": "next_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_due_date": {
          "name": "next_due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "intended_start_day": {
          "name": "intended_start_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "intended_due_day": {
          "name": "intended_due_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "inactive_reason": {
          "name": "inactive_reason",
          "type": "inactive_reason",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "inactive_at": {
          "name": "inactive_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "inactive_by_user_id": {
          "name": "inactive_by_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "udf_values": {
          "name": "udf_values",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_client_services_client_id": {
          "name": "idx_client_services_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_services_service_id": {
          "name": "idx_client_services_service_id",
          "columns": [
            {
              "expression": "service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_services_service_owner_id": {
          "name": "idx_client_services_service_owner_id",
          "columns": [
            {
              "expression": "service_owner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_services_next_due_date": {
          "name": "idx_client_services_next_due_date",
          "columns": [
            {
              "expression": "next_due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_services_inactive_by_user_id": {
          "name": "idx_client_services_inactive_by_user_id",
          "columns": [
            {
              "expression": "inactive_by_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_services_client_id_clients_id_fk": {
          "name": "client_services_client_id_clients_id_fk",
          "tableFrom": "client_services",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_services_service_id_services_id_fk": {
          "name": "client_services_service_id_services_id_fk",
          "tableFrom": "client_services",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_services_service_owner_id_users_id_fk": {
          "name": "client_services_service_owner_id_users_id_fk",
          "tableFrom": "client_services",
          "tableTo": "users",
          "columnsFrom": [
            "service_owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "client_services_inactive_by_user_id_users_id_fk": {
          "name": "client_services_inactive_by_user_id_users_id_fk",
          "tableFrom": "client_services",
          "tableTo": "users",
          "columnsFrom": [
            "inactive_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_client_service": {
          "name": "unique_client_service",
          "nullsNotDistinct": false,
          "columns": [
            "client_id",
            "service_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.people_services": {
      "name": "people_services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "person_id": {
          "name": "person_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "service_owner_id": {
          "name": "service_owner_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'monthly'"
        },
        "next_start_date": {
          "name": "next_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_due_date": {
          "name": "next_due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "intended_start_day": {
          "name": "intended_start_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "intended_due_day": {
          "name": "intended_due_day",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_people_services_person_id": {
          "name": "idx_people_services_person_id",
          "columns": [
            {
              "expression": "person_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_people_services_service_id": {
          "name": "idx_people_services_service_id",
          "columns": [
            {
              "expression": "service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_people_services_service_owner_id": {
          "name": "idx_people_services_service_owner_id",
          "columns": [
            {
              "expression": "service_owner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_people_services_next_due_date": {
          "name": "idx_people_services_next_due_date",
          "columns": [
            {
              "expression": "next_due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "people_services_person_id_people_id_fk": {
          "name": "people_services_person_id_people_id_fk",
          "tableFrom": "people_services",
          "tableTo": "people",
          "columnsFrom": [
            "person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "people_services_service_id_services_id_fk": {
          "name": "people_services_service_id_services_id_fk",
          "tableFrom": "people_services",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "people_services_service_owner_id_users_id_fk": {
          "name": "people_services_service_owner_id_users_id_fk",
          "tableFrom": "people_services",
          "tableTo": "users",
          "columnsFrom": [
            "service_owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_person_service": {
          "name": "unique_person_service",
          "nullsNotDistinct": false,
          "columns": [
            "person_id",
            "service_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.service_assignment_views": {
      "name": "service_assignment_views",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "filters": {
          "name": "filters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_service_assignment_views_user_id": {
          "name": "idx_service_assignment_views_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "service_assignment_views_user_id_users_id_fk": {
          "name": "service_assignment_views_user_id_users_id_fk",
          "tableFrom": "service_assignment_views",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.service_roles": {
      "name": "service_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "role_id": {
          "name": "role_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_service_roles_service_id": {
          "name": "idx_service_roles_service_id",
          "columns": [
            {
              "expression": "service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_service_roles_role_id": {
          "name": "idx_service_roles_role_id",
          "columns": [
            {
              "expression": "role_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "service_roles_service_id_services_id_fk": {
          "name": "service_roles_service_id_services_id_fk",
          "tableFrom": "service_roles",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "service_roles_role_id_work_roles_id_fk": {
          "name": "service_roles_role_id_work_roles_id_fk",
          "tableFrom": "service_roles",
          "tableTo": "work_roles",
          "columnsFrom": [
            "role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_service_role": {
          "name": "unique_service_role",
          "nullsNotDistinct": false,
          "columns": [
            "service_id",
            "role_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.services": {
      "name": "services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project_type_id": {
          "name": "project_type_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "udf_definitions": {
          "name": "udf_definitions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "is_companies_house_connected": {
          "name": "is_companies_house_connected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ch_start_date_field": {
          "name": "ch_start_date_field",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ch_due_date_field": {
          "name": "ch_due_date_field",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_personal_service": {
          "name": "is_personal_service",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_static_service": {
          "name": "is_static_service",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_vat_service": {
          "name": "is_vat_service",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "services_project_type_id_project_types_id_fk": {
          "name": "services_project_type_id_project_types_id_fk",
          "tableFrom": "services",
          "tableTo": "project_types",
          "columnsFrom": [
            "project_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "services_name_unique": {
          "name": "services_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.work_roles": {
      "name": "work_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "work_roles_name_unique": {
          "name": "work_roles_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_types": {
      "name": "project_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "notifications_active": {
          "name": "notifications_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "single_project_per_client": {
          "name": "single_project_per_client",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "project_types_name_unique": {
          "name": "project_types_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.change_reasons": {
      "name": "change_reasons",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_type_id": {
          "name": "project_type_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "show_count_in_project": {
          "name": "show_count_in_project",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "count_label": {
          "name": "count_label",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stage_approval_id": {
          "name": "stage_approval_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_change_reasons_project_type_id": {
          "name": "idx_change_reasons_project_type_id",
          "columns": [
            {
              "expression": "project_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_change_reasons_stage_approval_id": {
          "name": "idx_change_reasons_stage_approval_id",
          "columns": [
            {
              "expression": "stage_approval_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "change_reasons_project_type_id_project_types_id_fk": {
          "name": "change_reasons_project_type_id_project_types_id_fk",
          "tableFrom": "change_reasons",
          "tableTo": "project_types",
          "columnsFrom": [
            "project_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "change_reasons_stage_approval_id_stage_approvals_id_fk": {
          "name": "change_reasons_stage_approval_id_stage_approvals_id_fk",
          "tableFrom": "change_reasons",
          "tableTo": "stage_approvals",
          "columnsFrom": [
            "stage_approval_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.kanban_stages": {
      "name": "kanban_stages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_type_id": {
          "name": "project_type_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_work_role_id": {
          "name": "assigned_work_role_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_user_id": {
          "name": "assigned_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "color": {
          "name": "color",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'#6b7280'"
        },
        "max_instance_time": {
          "name": "max_instance_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_total_time": {
          "name": "max_total_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stage_approval_id": {
          "name": "stage_approval_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "can_be_final_stage": {
          "name": "can_be_final_stage",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_kanban_stages_project_type_id": {
          "name": "idx_kanban_stages_project_type_id",
          "columns": [
            {
              "expression": "project_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_kanban_stages_assigned_work_role_id": {
          "name": "idx_kanban_stages_assigned_work_role_id",
          "columns": [
            {
              "expression": "assigned_work_role_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_kanban_stages_assigned_user_id": {
          "name": "idx_kanban_stages_assigned_user_id",
          "columns": [
            {
              "expression": "assigned_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "kanban_stages_project_type_id_project_types_id_fk": {
          "name": "kanban_stages_project_type_id_project_types_id_fk",
          "tableFrom": "kanban_stages",
          "tableTo": "project_types",
          "columnsFrom": [
            "project_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "kanban_stages_assigned_work_role_id_work_roles_id_fk": {
          "name": "kanban_stages_assigned_work_role_id_work_roles_id_fk",
          "tableFrom": "kanban_stages",
          "tableTo": "work_roles",
          "columnsFrom": [
            "assigned_work_role_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "kanban_stages_assigned_user_id_users_id_fk": {
          "name": "kanban_stages_assigned_user_id_users_id_fk",
          "tableFrom": "kanban_stages",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "kanban_stages_stage_approval_id_stage_approvals_id_fk": {
          "name": "kanban_stages_stage_approval_id_stage_approvals_id_fk",
          "tableFrom": "kanban_stages",
          "tableTo": "stage_approvals",
          "columnsFrom": [
            "stage_approval_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_chronology": {
      "name": "project_chronology",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "entry_type": {
          "name": "entry_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'stage_change'"
        },
        "from_status": {
          "name": "from_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "to_status": {
          "name": "to_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assignee_id": {
          "name": "assignee_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "changed_by_id": {
          "name": "changed_by_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "change_reason": {
          "name": "change_reason",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes_html": {
          "name": "notes_html",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "time_in_previous_stage": {
          "name": "time_in_previous_stage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "business_hours_in_previous_stage": {
          "name": "business_hours_in_previous_stage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "project_chronology_project_id_projects_id_fk": {
          "name": "project_chronology_project_id_projects_id_fk",
          "tableFrom": "project_chronology",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_chronology_assignee_id_users_id_fk": {
          "name": "project_chronology_assignee_id_users_id_fk",
          "tableFrom": "project_chronology",
          "tableTo": "users",
          "columnsFrom": [
            "assignee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_chronology_changed_by_id_users_id_fk": {
          "name": "project_chronology_changed_by_id_users_id_fk",
          "tableFrom": "project_chronology",
          "tableTo": "users",
          "columnsFrom": [
            "changed_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_scheduling_history": {
      "name": "project_scheduling_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_service_id": {
          "name": "client_service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "people_service_id": {
          "name": "people_service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_date": {
          "name": "scheduled_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "previous_next_start_date": {
          "name": "previous_next_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "previous_next_due_date": {
          "name": "previous_next_due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "new_next_start_date": {
          "name": "new_next_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "new_next_due_date": {
          "name": "new_next_due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_project_scheduling_history_client_service_id": {
          "name": "idx_project_scheduling_history_client_service_id",
          "columns": [
            {
              "expression": "client_service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_scheduling_history_people_service_id": {
          "name": "idx_project_scheduling_history_people_service_id",
          "columns": [
            {
              "expression": "people_service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_scheduling_history_project_id": {
          "name": "idx_project_scheduling_history_project_id",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_scheduling_history_action": {
          "name": "idx_project_scheduling_history_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_scheduling_history_scheduled_date": {
          "name": "idx_project_scheduling_history_scheduled_date",
          "columns": [
            {
              "expression": "scheduled_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_scheduling_history_created_at": {
          "name": "idx_project_scheduling_history_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_scheduling_history_client_service_id_client_services_id_fk": {
          "name": "project_scheduling_history_client_service_id_client_services_id_fk",
          "tableFrom": "project_scheduling_history",
          "tableTo": "client_services",
          "columnsFrom": [
            "client_service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "project_scheduling_history_people_service_id_people_services_id_fk": {
          "name": "project_scheduling_history_people_service_id_people_services_id_fk",
          "tableFrom": "project_scheduling_history",
          "tableTo": "people_services",
          "columnsFrom": [
            "people_service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "project_scheduling_history_project_id_projects_id_fk": {
          "name": "project_scheduling_history_project_id_projects_id_fk",
          "tableFrom": "project_scheduling_history",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.projects": {
      "name": "projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "project_type_id": {
          "name": "project_type_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "bookkeeper_id": {
          "name": "bookkeeper_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "client_manager_id": {
          "name": "client_manager_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "project_owner_id": {
          "name": "project_owner_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "current_status": {
          "name": "current_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'No Latest Action'"
        },
        "current_assignee_id": {
          "name": "current_assignee_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'medium'"
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "archived": {
          "name": "archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "inactive": {
          "name": "inactive",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "inactive_reason": {
          "name": "inactive_reason",
          "type": "inactive_reason",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "inactive_at": {
          "name": "inactive_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "inactive_by_user_id": {
          "name": "inactive_by_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "completion_status": {
          "name": "completion_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "project_month": {
          "name": "project_month",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_projects_project_owner_id": {
          "name": "idx_projects_project_owner_id",
          "columns": [
            {
              "expression": "project_owner_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_current_assignee_id": {
          "name": "idx_projects_current_assignee_id",
          "columns": [
            {
              "expression": "current_assignee_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_project_type_id": {
          "name": "idx_projects_project_type_id",
          "columns": [
            {
              "expression": "project_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_archived": {
          "name": "idx_projects_archived",
          "columns": [
            {
              "expression": "archived",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_client_id": {
          "name": "idx_projects_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_current_status": {
          "name": "idx_projects_current_status",
          "columns": [
            {
              "expression": "current_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_due_date": {
          "name": "idx_projects_due_date",
          "columns": [
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_inactive": {
          "name": "idx_projects_inactive",
          "columns": [
            {
              "expression": "inactive",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_projects_project_month": {
          "name": "idx_projects_project_month",
          "columns": [
            {
              "expression": "project_month",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "projects_client_id_clients_id_fk": {
          "name": "projects_client_id_clients_id_fk",
          "tableFrom": "projects",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_project_type_id_project_types_id_fk": {
          "name": "projects_project_type_id_project_types_id_fk",
          "tableFrom": "projects",
          "tableTo": "project_types",
          "columnsFrom": [
            "project_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_bookkeeper_id_users_id_fk": {
          "name": "projects_bookkeeper_id_users_id_fk",
          "tableFrom": "projects",
          "tableTo": "users",
          "columnsFrom": [
            "bookkeeper_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_client_manager_id_users_id_fk": {
          "name": "projects_client_manager_id_users_id_fk",
          "tableFrom": "projects",
          "tableTo": "users",
          "columnsFrom": [
            "client_manager_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_project_owner_id_users_id_fk": {
          "name": "projects_project_owner_id_users_id_fk",
          "tableFrom": "projects",
          "tableTo": "users",
          "columnsFrom": [
            "project_owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_current_assignee_id_users_id_fk": {
          "name": "projects_current_assignee_id_users_id_fk",
          "tableFrom": "projects",
          "tableTo": "users",
          "columnsFrom": [
            "current_assignee_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_inactive_by_user_id_users_id_fk": {
          "name": "projects_inactive_by_user_id_users_id_fk",
          "tableFrom": "projects",
          "tableTo": "users",
          "columnsFrom": [
            "inactive_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reason_custom_fields": {
      "name": "reason_custom_fields",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "reason_id": {
          "name": "reason_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "field_type": {
          "name": "field_type",
          "type": "custom_field_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "placeholder": {
          "name": "placeholder",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "options": {
          "name": "options",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reason_custom_fields_reason_id": {
          "name": "idx_reason_custom_fields_reason_id",
          "columns": [
            {
              "expression": "reason_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reason_custom_fields_reason_id_change_reasons_id_fk": {
          "name": "reason_custom_fields_reason_id_change_reasons_id_fk",
          "tableFrom": "reason_custom_fields",
          "tableTo": "change_reasons",
          "columnsFrom": [
            "reason_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "check_multi_select_options": {
          "name": "check_multi_select_options",
          "value": "\n    (field_type != 'multi_select' OR (options IS NOT NULL AND array_length(options, 1) > 0 AND options <> ARRAY[]::text[]))\n  "
        }
      },
      "isRLSEnabled": false
    },
    "public.reason_field_responses": {
      "name": "reason_field_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "chronology_id": {
          "name": "chronology_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "custom_field_id": {
          "name": "custom_field_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "field_type": {
          "name": "field_type",
          "type": "custom_field_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "value_number": {
          "name": "value_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "value_short_text": {
          "name": "value_short_text",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "value_long_text": {
          "name": "value_long_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value_multi_select": {
          "name": "value_multi_select",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reason_field_responses_chronology_id": {
          "name": "idx_reason_field_responses_chronology_id",
          "columns": [
            {
              "expression": "chronology_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_reason_field_responses_custom_field_id": {
          "name": "idx_reason_field_responses_custom_field_id",
          "columns": [
            {
              "expression": "custom_field_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reason_field_responses_chronology_id_project_chronology_id_fk": {
          "name": "reason_field_responses_chronology_id_project_chronology_id_fk",
          "tableFrom": "reason_field_responses",
          "tableTo": "project_chronology",
          "columnsFrom": [
            "chronology_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reason_field_responses_custom_field_id_reason_custom_fields_id_fk": {
          "name": "reason_field_responses_custom_field_id_reason_custom_fields_id_fk",
          "tableFrom": "reason_field_responses",
          "tableTo": "reason_custom_fields",
          "columnsFrom": [
            "custom_field_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "restrict",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_chronology_custom_field": {
          "name": "unique_chronology_custom_field",
          "nullsNotDistinct": false,
          "columns": [
            "chronology_id",
            "custom_field_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "check_single_value_column": {
          "name": "check_single_value_column",
          "value": "\n    (field_type = 'number' AND value_number IS NOT NULL AND value_short_text IS NULL AND value_long_text IS NULL AND value_multi_select IS NULL) OR\n    (field_type = 'short_text' AND value_number IS NULL AND value_short_text IS NOT NULL AND value_long_text IS NULL AND value_multi_select IS NULL) OR\n    (field_type = 'long_text' AND value_number IS NULL AND value_short_text IS NULL AND value_long_text IS NOT NULL AND value_multi_select IS NULL) OR\n    (field_type = 'multi_select' AND value_number IS NULL AND value_short_text IS NULL AND value_long_text IS NULL AND value_multi_select IS NOT NULL)\n  "
        }
      },
      "isRLSEnabled": false
    },
    "public.scheduling_exceptions": {
      "name": "scheduling_exceptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "run_log_id": {
          "name": "run_log_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "service_type": {
          "name": "service_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "client_service_id": {
          "name": "client_service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "people_service_id": {
          "name": "people_service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "service_name": {
          "name": "service_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_or_person_name": {
          "name": "client_or_person_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error_type": {
          "name": "error_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "next_start_date": {
          "name": "next_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_due_date": {
          "name": "next_due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by_user_id": {
          "name": "resolved_by_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_scheduling_exceptions_run_log_id": {
          "name": "idx_scheduling_exceptions_run_log_id",
          "columns": [
            {
              "expression": "run_log_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduling_exceptions_service_type": {
          "name": "idx_scheduling_exceptions_service_type",
          "columns": [
            {
              "expression": "service_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduling_exceptions_client_service_id": {
          "name": "idx_scheduling_exceptions_client_service_id",
          "columns": [
            {
              "expression": "client_service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduling_exceptions_people_service_id": {
          "name": "idx_scheduling_exceptions_people_service_id",
          "columns": [
            {
              "expression": "people_service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduling_exceptions_error_type": {
          "name": "idx_scheduling_exceptions_error_type",
          "columns": [
            {
              "expression": "error_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduling_exceptions_resolved": {
          "name": "idx_scheduling_exceptions_resolved",
          "columns": [
            {
              "expression": "resolved",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduling_exceptions_created_at": {
          "name": "idx_scheduling_exceptions_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "scheduling_exceptions_run_log_id_scheduling_run_logs_id_fk": {
          "name": "scheduling_exceptions_run_log_id_scheduling_run_logs_id_fk",
          "tableFrom": "scheduling_exceptions",
          "tableTo": "scheduling_run_logs",
          "columnsFrom": [
            "run_log_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduling_exceptions_client_service_id_client_services_id_fk": {
          "name": "scheduling_exceptions_client_service_id_client_services_id_fk",
          "tableFrom": "scheduling_exceptions",
          "tableTo": "client_services",
          "columnsFrom": [
            "client_service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "scheduling_exceptions_people_service_id_people_services_id_fk": {
          "name": "scheduling_exceptions_people_service_id_people_services_id_fk",
          "tableFrom": "scheduling_exceptions",
          "tableTo": "people_services",
          "columnsFrom": [
            "people_service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "scheduling_exceptions_client_id_clients_id_fk": {
          "name": "scheduling_exceptions_client_id_clients_id_fk",
          "tableFrom": "scheduling_exceptions",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "scheduling_exceptions_resolved_by_user_id_users_id_fk": {
          "name": "scheduling_exceptions_resolved_by_user_id_users_id_fk",
          "tableFrom": "scheduling_exceptions",
          "tableTo": "users",
          "columnsFrom": [
            "resolved_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scheduling_run_logs": {
      "name": "scheduling_run_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "run_date": {
          "name": "run_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "run_type": {
          "name": "run_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "total_services_checked": {
          "name": "total_services_checked",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "services_found_due": {
          "name": "services_found_due",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "projects_created": {
          "name": "projects_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "services_rescheduled": {
          "name": "services_rescheduled",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "errors_encountered": {
          "name": "errors_encountered",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "ch_services_skipped": {
          "name": "ch_services_skipped",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "execution_time_ms": {
          "name": "execution_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_details": {
          "name": "error_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_scheduling_run_logs_run_date": {
          "name": "idx_scheduling_run_logs_run_date",
          "columns": [
            {
              "expression": "run_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduling_run_logs_status": {
          "name": "idx_scheduling_run_logs_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduling_run_logs_run_type": {
          "name": "idx_scheduling_run_logs_run_type",
          "columns": [
            {
              "expression": "run_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stage_approval_fields": {
      "name": "stage_approval_fields",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stage_approval_id": {
          "name": "stage_approval_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "field_type": {
          "name": "field_type",
          "type": "stage_approval_field_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "placeholder": {
          "name": "placeholder",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "expected_value_boolean": {
          "name": "expected_value_boolean",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "comparison_type": {
          "name": "comparison_type",
          "type": "comparison_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "expected_value_number": {
          "name": "expected_value_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "options": {
          "name": "options",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_stage_approval_fields_stage_approval_id": {
          "name": "idx_stage_approval_fields_stage_approval_id",
          "columns": [
            {
              "expression": "stage_approval_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stage_approval_fields_stage_approval_id_stage_approvals_id_fk": {
          "name": "stage_approval_fields_stage_approval_id_stage_approvals_id_fk",
          "tableFrom": "stage_approval_fields",
          "tableTo": "stage_approvals",
          "columnsFrom": [
            "stage_approval_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "check_boolean_field_validation": {
          "name": "check_boolean_field_validation",
          "value": "\n    (field_type != 'boolean' OR expected_value_boolean IS NOT NULL)\n  "
        },
        "check_number_field_validation": {
          "name": "check_number_field_validation",
          "value": "\n    (field_type != 'number' OR (comparison_type IS NOT NULL AND expected_value_number IS NOT NULL))\n  "
        },
        "check_multi_select_field_validation": {
          "name": "check_multi_select_field_validation",
          "value": "\n    (field_type != 'multi_select' OR (options IS NOT NULL AND array_length(options, 1) > 0 AND options <> ARRAY[]::text[]))\n  "
        },
        "check_long_text_field_validation": {
          "name": "check_long_text_field_validation",
          "value": "\n    (field_type != 'long_text' OR (expected_value_boolean IS NULL AND comparison_type IS NULL AND expected_value_number IS NULL AND options IS NULL))\n  "
        }
      },
      "isRLSEnabled": false
    },
    "public.stage_approval_responses": {
      "name": "stage_approval_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "field_id": {
          "name": "field_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "value_boolean": {
          "name": "value_boolean",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "value_number": {
          "name": "value_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "value_long_text": {
          "name": "value_long_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "value_multi_select": {
          "name": "value_multi_select",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_stage_approval_responses_project_id": {
          "name": "idx_stage_approval_responses_project_id",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_stage_approval_responses_field_id": {
          "name": "idx_stage_approval_responses_field_id",
          "columns": [
            {
              "expression": "field_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stage_approval_responses_project_id_projects_id_fk": {
          "name": "stage_approval_responses_project_id_projects_id_fk",
          "tableFrom": "stage_approval_responses",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stage_approval_responses_field_id_stage_approval_fields_id_fk": {
          "name": "stage_approval_responses_field_id_stage_approval_fields_id_fk",
          "tableFrom": "stage_approval_responses",
          "tableTo": "stage_approval_fields",
          "columnsFrom": [
            "field_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_project_field_response": {
          "name": "unique_project_field_response",
          "nullsNotDistinct": false,
          "columns": [
            "project_id",
            "field_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {
        "check_single_value_populated": {
          "name": "check_single_value_populated",
          "value": "\n    (value_boolean IS NOT NULL AND value_number IS NULL AND value_long_text IS NULL AND value_multi_select IS NULL) OR\n    (value_boolean IS NULL AND value_number IS NOT NULL AND value_long_text IS NULL AND value_multi_select IS NULL) OR\n    (value_boolean IS NULL AND value_number IS NULL AND value_long_text IS NOT NULL AND value_multi_select IS NULL) OR\n    (value_boolean IS NULL AND value_number IS NULL AND value_long_text IS NULL AND value_multi_select IS NOT NULL)\n  "
        }
      },
      "isRLSEnabled": false
    },
    "public.stage_approvals": {
      "name": "stage_approvals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_type_id": {
          "name": "project_type_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_stage_approvals_project_type_id": {
          "name": "idx_stage_approvals_project_type_id",
          "columns": [
            {
              "expression": "project_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stage_approvals_project_type_id_project_types_id_fk": {
          "name": "stage_approvals_project_type_id_project_types_id_fk",
          "tableFrom": "stage_approvals",
          "tableTo": "project_types",
          "columnsFrom": [
            "project_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_approval_name_per_project_type": {
          "name": "unique_approval_name_per_project_type",
          "nullsNotDistinct": false,
          "columns": [
            "project_type_id",
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.stage_reason_maps": {
      "name": "stage_reason_maps",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stage_id": {
          "name": "stage_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "reason_id": {
          "name": "reason_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_stage_reason_maps_stage_id": {
          "name": "idx_stage_reason_maps_stage_id",
          "columns": [
            {
              "expression": "stage_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_stage_reason_maps_reason_id": {
          "name": "idx_stage_reason_maps_reason_id",
          "columns": [
            {
              "expression": "reason_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "stage_reason_maps_stage_id_kanban_stages_id_fk": {
          "name": "stage_reason_maps_stage_id_kanban_stages_id_fk",
          "tableFrom": "stage_reason_maps",
          "tableTo": "kanban_stages",
          "columnsFrom": [
            "stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "stage_reason_maps_reason_id_change_reasons_id_fk": {
          "name": "stage_reason_maps_reason_id_change_reasons_id_fk",
          "tableFrom": "stage_reason_maps",
          "tableTo": "change_reasons",
          "columnsFrom": [
            "reason_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_stage_reason": {
          "name": "unique_stage_reason",
          "nullsNotDistinct": false,
          "columns": [
            "stage_id",
            "reason_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.communications": {
      "name": "communications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "person_id": {
          "name": "person_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "communication_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actual_contact_time": {
          "name": "actual_contact_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "logged_at": {
          "name": "logged_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "thread_id": {
          "name": "thread_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "communications_client_id_logged_at_idx": {
          "name": "communications_client_id_logged_at_idx",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "logged_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communications_person_id_logged_at_idx": {
          "name": "communications_person_id_logged_at_idx",
          "columns": [
            {
              "expression": "person_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "logged_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communications_project_id_logged_at_idx": {
          "name": "communications_project_id_logged_at_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "logged_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "communications_thread_id_idx": {
          "name": "communications_thread_id_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "communications_client_id_clients_id_fk": {
          "name": "communications_client_id_clients_id_fk",
          "tableFrom": "communications",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "communications_person_id_people_id_fk": {
          "name": "communications_person_id_people_id_fk",
          "tableFrom": "communications",
          "tableTo": "people",
          "columnsFrom": [
            "person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "communications_project_id_projects_id_fk": {
          "name": "communications_project_id_projects_id_fk",
          "tableFrom": "communications",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "communications_user_id_users_id_fk": {
          "name": "communications_user_id_users_id_fk",
          "tableFrom": "communications",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.message_threads": {
      "name": "message_threads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "thread_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_message_by_staff": {
          "name": "last_message_by_staff",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_client_portal_user_id": {
          "name": "created_by_client_portal_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "service_id": {
          "name": "service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "archived_by": {
          "name": "archived_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "message_threads_client_id_last_message_idx": {
          "name": "message_threads_client_id_last_message_idx",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "last_message_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_threads_status_idx": {
          "name": "message_threads_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_threads_is_archived_idx": {
          "name": "message_threads_is_archived_idx",
          "columns": [
            {
              "expression": "is_archived",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "message_threads_last_message_by_staff_idx": {
          "name": "message_threads_last_message_by_staff_idx",
          "columns": [
            {
              "expression": "last_message_by_staff",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "message_threads_client_id_clients_id_fk": {
          "name": "message_threads_client_id_clients_id_fk",
          "tableFrom": "message_threads",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_threads_created_by_user_id_users_id_fk": {
          "name": "message_threads_created_by_user_id_users_id_fk",
          "tableFrom": "message_threads",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "message_threads_created_by_client_portal_user_id_client_portal_users_id_fk": {
          "name": "message_threads_created_by_client_portal_user_id_client_portal_users_id_fk",
          "tableFrom": "message_threads",
          "tableTo": "client_portal_users",
          "columnsFrom": [
            "created_by_client_portal_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "message_threads_project_id_projects_id_fk": {
          "name": "message_threads_project_id_projects_id_fk",
          "tableFrom": "message_threads",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "message_threads_service_id_services_id_fk": {
          "name": "message_threads_service_id_services_id_fk",
          "tableFrom": "message_threads",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "message_threads_archived_by_users_id_fk": {
          "name": "message_threads_archived_by_users_id_fk",
          "tableFrom": "message_threads",
          "tableTo": "users",
          "columnsFrom": [
            "archived_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_portal_user_id": {
          "name": "client_portal_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_read_by_staff": {
          "name": "is_read_by_staff",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_read_by_client": {
          "name": "is_read_by_client",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "messages_thread_id_created_at_idx": {
          "name": "messages_thread_id_created_at_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_is_read_by_staff_idx": {
          "name": "messages_is_read_by_staff_idx",
          "columns": [
            {
              "expression": "is_read_by_staff",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "messages_is_read_by_client_idx": {
          "name": "messages_is_read_by_client_idx",
          "columns": [
            {
              "expression": "is_read_by_client",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "messages_thread_id_message_threads_id_fk": {
          "name": "messages_thread_id_message_threads_id_fk",
          "tableFrom": "messages",
          "tableTo": "message_threads",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_user_id_users_id_fk": {
          "name": "messages_user_id_users_id_fk",
          "tableFrom": "messages",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "messages_client_portal_user_id_client_portal_users_id_fk": {
          "name": "messages_client_portal_user_id_client_portal_users_id_fk",
          "tableFrom": "messages",
          "tableTo": "client_portal_users",
          "columnsFrom": [
            "client_portal_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_message_participants": {
      "name": "project_message_participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "last_read_at": {
          "name": "last_read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_read_message_id": {
          "name": "last_read_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_reminder_email_sent_at": {
          "name": "last_reminder_email_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "project_message_participants_thread_id_idx": {
          "name": "project_message_participants_thread_id_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_message_participants_user_id_idx": {
          "name": "project_message_participants_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_message_participants_thread_id_project_message_threads_id_fk": {
          "name": "project_message_participants_thread_id_project_message_threads_id_fk",
          "tableFrom": "project_message_participants",
          "tableTo": "project_message_threads",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_message_participants_user_id_users_id_fk": {
          "name": "project_message_participants_user_id_users_id_fk",
          "tableFrom": "project_message_participants",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_message_participants_last_read_message_id_project_messages_id_fk": {
          "name": "project_message_participants_last_read_message_id_project_messages_id_fk",
          "tableFrom": "project_message_participants",
          "tableTo": "project_messages",
          "columnsFrom": [
            "last_read_message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_project_thread_user": {
          "name": "unique_project_thread_user",
          "nullsNotDistinct": false,
          "columns": [
            "thread_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_message_threads": {
      "name": "project_message_threads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "topic": {
          "name": "topic",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_message_by_user_id": {
          "name": "last_message_by_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "archived_by": {
          "name": "archived_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "project_message_threads_project_id_last_message_idx": {
          "name": "project_message_threads_project_id_last_message_idx",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "last_message_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_message_threads_is_archived_idx": {
          "name": "project_message_threads_is_archived_idx",
          "columns": [
            {
              "expression": "is_archived",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_message_threads_project_id_projects_id_fk": {
          "name": "project_message_threads_project_id_projects_id_fk",
          "tableFrom": "project_message_threads",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_message_threads_created_by_user_id_users_id_fk": {
          "name": "project_message_threads_created_by_user_id_users_id_fk",
          "tableFrom": "project_message_threads",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "project_message_threads_last_message_by_user_id_users_id_fk": {
          "name": "project_message_threads_last_message_by_user_id_users_id_fk",
          "tableFrom": "project_message_threads",
          "tableTo": "users",
          "columnsFrom": [
            "last_message_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "project_message_threads_archived_by_users_id_fk": {
          "name": "project_message_threads_archived_by_users_id_fk",
          "tableFrom": "project_message_threads",
          "tableTo": "users",
          "columnsFrom": [
            "archived_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_messages": {
      "name": "project_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "project_messages_thread_id_created_at_idx": {
          "name": "project_messages_thread_id_created_at_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "project_messages_user_id_idx": {
          "name": "project_messages_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_messages_thread_id_project_message_threads_id_fk": {
          "name": "project_messages_thread_id_project_message_threads_id_fk",
          "tableFrom": "project_messages",
          "tableTo": "project_message_threads",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_messages_user_id_users_id_fk": {
          "name": "project_messages_user_id_users_id_fk",
          "tableFrom": "project_messages",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.staff_message_participants": {
      "name": "staff_message_participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "last_read_at": {
          "name": "last_read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_read_message_id": {
          "name": "last_read_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "staff_message_participants_thread_id_idx": {
          "name": "staff_message_participants_thread_id_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "staff_message_participants_user_id_idx": {
          "name": "staff_message_participants_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "staff_message_participants_thread_id_staff_message_threads_id_fk": {
          "name": "staff_message_participants_thread_id_staff_message_threads_id_fk",
          "tableFrom": "staff_message_participants",
          "tableTo": "staff_message_threads",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "staff_message_participants_user_id_users_id_fk": {
          "name": "staff_message_participants_user_id_users_id_fk",
          "tableFrom": "staff_message_participants",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "staff_message_participants_last_read_message_id_staff_messages_id_fk": {
          "name": "staff_message_participants_last_read_message_id_staff_messages_id_fk",
          "tableFrom": "staff_message_participants",
          "tableTo": "staff_messages",
          "columnsFrom": [
            "last_read_message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_staff_thread_user": {
          "name": "unique_staff_thread_user",
          "nullsNotDistinct": false,
          "columns": [
            "thread_id",
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.staff_message_threads": {
      "name": "staff_message_threads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "topic": {
          "name": "topic",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_by_user_id": {
          "name": "created_by_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_message_by_user_id": {
          "name": "last_message_by_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "archived_by": {
          "name": "archived_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "staff_message_threads_last_message_idx": {
          "name": "staff_message_threads_last_message_idx",
          "columns": [
            {
              "expression": "last_message_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "staff_message_threads_is_archived_idx": {
          "name": "staff_message_threads_is_archived_idx",
          "columns": [
            {
              "expression": "is_archived",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "staff_message_threads_created_by_user_id_users_id_fk": {
          "name": "staff_message_threads_created_by_user_id_users_id_fk",
          "tableFrom": "staff_message_threads",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "staff_message_threads_last_message_by_user_id_users_id_fk": {
          "name": "staff_message_threads_last_message_by_user_id_users_id_fk",
          "tableFrom": "staff_message_threads",
          "tableTo": "users",
          "columnsFrom": [
            "last_message_by_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "staff_message_threads_archived_by_users_id_fk": {
          "name": "staff_message_threads_archived_by_users_id_fk",
          "tableFrom": "staff_message_threads",
          "tableTo": "users",
          "columnsFrom": [
            "archived_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.staff_messages": {
      "name": "staff_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "thread_id": {
          "name": "thread_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "staff_messages_thread_id_created_at_idx": {
          "name": "staff_messages_thread_id_created_at_idx",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "staff_messages_user_id_idx": {
          "name": "staff_messages_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "staff_messages_thread_id_staff_message_threads_id_fk": {
          "name": "staff_messages_thread_id_staff_message_threads_id_fk",
          "tableFrom": "staff_messages",
          "tableTo": "staff_message_threads",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "staff_messages_user_id_users_id_fk": {
          "name": "staff_messages_user_id_users_id_fk",
          "tableFrom": "staff_messages",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_activity_tracking": {
      "name": "user_activity_tracking",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "viewed_entity_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "viewed_at": {
          "name": "viewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "user_activity_tracking_user_viewed_at_idx": {
          "name": "user_activity_tracking_user_viewed_at_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "viewed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_activity_tracking_user_id_users_id_fk": {
          "name": "user_activity_tracking_user_id_users_id_fk",
          "tableFrom": "user_activity_tracking",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_entity_view": {
          "name": "unique_user_entity_view",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "entity_type",
            "entity_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_integrations": {
      "name": "user_integrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "integration_type": {
          "name": "integration_type",
          "type": "integration_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "token_expiry": {
          "name": "token_expiry",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_integrations_user_id_users_id_fk": {
          "name": "user_integrations_user_id_users_id_fk",
          "tableFrom": "user_integrations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_integration_type": {
          "name": "unique_user_integration_type",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "integration_type"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.document_folders": {
      "name": "document_folders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'direct_upload'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_document_folders_client_id": {
          "name": "idx_document_folders_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_folders_created_at": {
          "name": "idx_document_folders_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_folders_client_id_clients_id_fk": {
          "name": "document_folders_client_id_clients_id_fk",
          "tableFrom": "document_folders",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_folders_created_by_users_id_fk": {
          "name": "document_folders_created_by_users_id_fk",
          "tableFrom": "document_folders",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.documents": {
      "name": "documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "folder_id": {
          "name": "folder_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_portal_user_id": {
          "name": "client_portal_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "upload_name": {
          "name": "upload_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'direct_upload'"
        },
        "message_id": {
          "name": "message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "thread_id": {
          "name": "thread_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "task_instance_id": {
          "name": "task_instance_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "object_path": {
          "name": "object_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_portal_visible": {
          "name": "is_portal_visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_documents_client_id": {
          "name": "idx_documents_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_folder_id": {
          "name": "idx_documents_folder_id",
          "columns": [
            {
              "expression": "folder_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_uploaded_at": {
          "name": "idx_documents_uploaded_at",
          "columns": [
            {
              "expression": "uploaded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_client_portal_user_id": {
          "name": "idx_documents_client_portal_user_id",
          "columns": [
            {
              "expression": "client_portal_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_message_id": {
          "name": "idx_documents_message_id",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_thread_id": {
          "name": "idx_documents_thread_id",
          "columns": [
            {
              "expression": "thread_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_task_instance_id": {
          "name": "idx_documents_task_instance_id",
          "columns": [
            {
              "expression": "task_instance_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_documents_source": {
          "name": "idx_documents_source",
          "columns": [
            {
              "expression": "source",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "documents_client_id_clients_id_fk": {
          "name": "documents_client_id_clients_id_fk",
          "tableFrom": "documents",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "documents_folder_id_document_folders_id_fk": {
          "name": "documents_folder_id_document_folders_id_fk",
          "tableFrom": "documents",
          "tableTo": "document_folders",
          "columnsFrom": [
            "folder_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "documents_uploaded_by_users_id_fk": {
          "name": "documents_uploaded_by_users_id_fk",
          "tableFrom": "documents",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "documents_client_portal_user_id_client_portal_users_id_fk": {
          "name": "documents_client_portal_user_id_client_portal_users_id_fk",
          "tableFrom": "documents",
          "tableTo": "client_portal_users",
          "columnsFrom": [
            "client_portal_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "documents_message_id_messages_id_fk": {
          "name": "documents_message_id_messages_id_fk",
          "tableFrom": "documents",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "documents_thread_id_message_threads_id_fk": {
          "name": "documents_thread_id_message_threads_id_fk",
          "tableFrom": "documents",
          "tableTo": "message_threads",
          "columnsFrom": [
            "thread_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.signature_audit_logs": {
      "name": "signature_audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "signature_request_recipient_id": {
          "name": "signature_request_recipient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "event_details": {
          "name": "event_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "signer_name": {
          "name": "signer_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "signer_email": {
          "name": "signer_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "device_info": {
          "name": "device_info",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "browser_info": {
          "name": "browser_info",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "os_info": {
          "name": "os_info",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "consent_accepted": {
          "name": "consent_accepted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "consent_accepted_at": {
          "name": "consent_accepted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "signed_at": {
          "name": "signed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "document_hash": {
          "name": "document_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "document_version": {
          "name": "document_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "auth_method": {
          "name": "auth_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'email_link'"
        },
        "city": {
          "name": "city",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_signature_audit_logs_recipient_id": {
          "name": "idx_signature_audit_logs_recipient_id",
          "columns": [
            {
              "expression": "signature_request_recipient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_signature_audit_logs_signed_at": {
          "name": "idx_signature_audit_logs_signed_at",
          "columns": [
            {
              "expression": "signed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "signature_audit_logs_signature_request_recipient_id_signature_request_recipients_id_fk": {
          "name": "signature_audit_logs_signature_request_recipient_id_signature_request_recipients_id_fk",
          "tableFrom": "signature_audit_logs",
          "tableTo": "signature_request_recipients",
          "columnsFrom": [
            "signature_request_recipient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.signature_fields": {
      "name": "signature_fields",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "signature_request_id": {
          "name": "signature_request_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_person_id": {
          "name": "recipient_person_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "field_type": {
          "name": "field_type",
          "type": "signature_field_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "page_number": {
          "name": "page_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "x_position": {
          "name": "x_position",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "y_position": {
          "name": "y_position",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "width": {
          "name": "width",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "height": {
          "name": "height",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_signature_fields_request_id": {
          "name": "idx_signature_fields_request_id",
          "columns": [
            {
              "expression": "signature_request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_signature_fields_recipient_id": {
          "name": "idx_signature_fields_recipient_id",
          "columns": [
            {
              "expression": "recipient_person_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "signature_fields_signature_request_id_signature_requests_id_fk": {
          "name": "signature_fields_signature_request_id_signature_requests_id_fk",
          "tableFrom": "signature_fields",
          "tableTo": "signature_requests",
          "columnsFrom": [
            "signature_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "signature_fields_recipient_person_id_people_id_fk": {
          "name": "signature_fields_recipient_person_id_people_id_fk",
          "tableFrom": "signature_fields",
          "tableTo": "people",
          "columnsFrom": [
            "recipient_person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.signature_request_recipients": {
      "name": "signature_request_recipients",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "signature_request_id": {
          "name": "signature_request_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "person_id": {
          "name": "person_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "secure_token": {
          "name": "secure_token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "token_expires_at": {
          "name": "token_expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now() + interval '30 days'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "send_status": {
          "name": "send_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "send_error": {
          "name": "send_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "viewed_at": {
          "name": "viewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "signed_at": {
          "name": "signed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_sent_at": {
          "name": "reminder_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "active_session_token": {
          "name": "active_session_token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "session_last_active": {
          "name": "session_last_active",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "session_device_info": {
          "name": "session_device_info",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "session_browser_info": {
          "name": "session_browser_info",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "session_os_info": {
          "name": "session_os_info",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_signature_request_recipients_request_id": {
          "name": "idx_signature_request_recipients_request_id",
          "columns": [
            {
              "expression": "signature_request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_signature_request_recipients_person_id": {
          "name": "idx_signature_request_recipients_person_id",
          "columns": [
            {
              "expression": "person_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_signature_request_recipients_token": {
          "name": "idx_signature_request_recipients_token",
          "columns": [
            {
              "expression": "secure_token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "signature_request_recipients_signature_request_id_signature_requests_id_fk": {
          "name": "signature_request_recipients_signature_request_id_signature_requests_id_fk",
          "tableFrom": "signature_request_recipients",
          "tableTo": "signature_requests",
          "columnsFrom": [
            "signature_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "signature_request_recipients_person_id_people_id_fk": {
          "name": "signature_request_recipients_person_id_people_id_fk",
          "tableFrom": "signature_request_recipients",
          "tableTo": "people",
          "columnsFrom": [
            "person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "signature_request_recipients_secure_token_unique": {
          "name": "signature_request_recipients_secure_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "secure_token"
          ]
        },
        "unique_request_recipient": {
          "name": "unique_request_recipient",
          "nullsNotDistinct": false,
          "columns": [
            "signature_request_id",
            "person_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.signature_requests": {
      "name": "signature_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "friendly_name": {
          "name": "friendly_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'Untitled Document'"
        },
        "document_id": {
          "name": "document_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "signature_request_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "email_subject": {
          "name": "email_subject",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email_message": {
          "name": "email_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "redirect_url": {
          "name": "redirect_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_enabled": {
          "name": "reminder_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "reminder_interval_days": {
          "name": "reminder_interval_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3
        },
        "reminders_sent_count": {
          "name": "reminders_sent_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_reminder_sent_at": {
          "name": "last_reminder_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_reminder_date": {
          "name": "next_reminder_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "cancellation_reason": {
          "name": "cancellation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_signature_requests_client_id": {
          "name": "idx_signature_requests_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_signature_requests_document_id": {
          "name": "idx_signature_requests_document_id",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_signature_requests_status": {
          "name": "idx_signature_requests_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_signature_requests_created_by": {
          "name": "idx_signature_requests_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "signature_requests_client_id_clients_id_fk": {
          "name": "signature_requests_client_id_clients_id_fk",
          "tableFrom": "signature_requests",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "signature_requests_document_id_documents_id_fk": {
          "name": "signature_requests_document_id_documents_id_fk",
          "tableFrom": "signature_requests",
          "tableTo": "documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "signature_requests_created_by_users_id_fk": {
          "name": "signature_requests_created_by_users_id_fk",
          "tableFrom": "signature_requests",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "signature_requests_cancelled_by_users_id_fk": {
          "name": "signature_requests_cancelled_by_users_id_fk",
          "tableFrom": "signature_requests",
          "tableTo": "users",
          "columnsFrom": [
            "cancelled_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.signatures": {
      "name": "signatures",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "signature_field_id": {
          "name": "signature_field_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "signature_request_recipient_id": {
          "name": "signature_request_recipient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "signature_type": {
          "name": "signature_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "signature_data": {
          "name": "signature_data",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "signed_at": {
          "name": "signed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_signatures_field_id": {
          "name": "idx_signatures_field_id",
          "columns": [
            {
              "expression": "signature_field_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_signatures_recipient_id": {
          "name": "idx_signatures_recipient_id",
          "columns": [
            {
              "expression": "signature_request_recipient_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "signatures_signature_field_id_signature_fields_id_fk": {
          "name": "signatures_signature_field_id_signature_fields_id_fk",
          "tableFrom": "signatures",
          "tableTo": "signature_fields",
          "columnsFrom": [
            "signature_field_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "signatures_signature_request_recipient_id_signature_request_recipients_id_fk": {
          "name": "signatures_signature_request_recipient_id_signature_request_recipients_id_fk",
          "tableFrom": "signatures",
          "tableTo": "signature_request_recipients",
          "columnsFrom": [
            "signature_request_recipient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.signed_documents": {
      "name": "signed_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "signature_request_id": {
          "name": "signature_request_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "signed_pdf_path": {
          "name": "signed_pdf_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "original_pdf_hash": {
          "name": "original_pdf_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "signed_pdf_hash": {
          "name": "signed_pdf_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "audit_trail_pdf_path": {
          "name": "audit_trail_pdf_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "email_sent_at": {
          "name": "email_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_signed_documents_request_id": {
          "name": "idx_signed_documents_request_id",
          "columns": [
            {
              "expression": "signature_request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_signed_documents_client_id": {
          "name": "idx_signed_documents_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_signed_documents_completed_at": {
          "name": "idx_signed_documents_completed_at",
          "columns": [
            {
              "expression": "completed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "signed_documents_signature_request_id_signature_requests_id_fk": {
          "name": "signed_documents_signature_request_id_signature_requests_id_fk",
          "tableFrom": "signed_documents",
          "tableTo": "signature_requests",
          "columnsFrom": [
            "signature_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "signed_documents_client_id_clients_id_fk": {
          "name": "signed_documents_client_id_clients_id_fk",
          "tableFrom": "signed_documents",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "signed_documents_signature_request_id_unique": {
          "name": "signed_documents_signature_request_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "signature_request_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_attachments": {
      "name": "email_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "content_hash": {
          "name": "content_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content_type": {
          "name": "content_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "object_path": {
          "name": "object_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_email_attachments_content_hash": {
          "name": "idx_email_attachments_content_hash",
          "columns": [
            {
              "expression": "content_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "email_attachments_content_hash_unique": {
          "name": "email_attachments_content_hash_unique",
          "nullsNotDistinct": false,
          "columns": [
            "content_hash"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_message_attachments": {
      "name": "email_message_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "internet_message_id": {
          "name": "internet_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "attachment_id": {
          "name": "attachment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "attachment_index": {
          "name": "attachment_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_email_message_attachments_message_id": {
          "name": "idx_email_message_attachments_message_id",
          "columns": [
            {
              "expression": "internet_message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_message_attachments_attachment_id": {
          "name": "idx_email_message_attachments_attachment_id",
          "columns": [
            {
              "expression": "attachment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_message_attachments_internet_message_id_email_messages_internet_message_id_fk": {
          "name": "email_message_attachments_internet_message_id_email_messages_internet_message_id_fk",
          "tableFrom": "email_message_attachments",
          "tableTo": "email_messages",
          "columnsFrom": [
            "internet_message_id"
          ],
          "columnsTo": [
            "internet_message_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "email_message_attachments_attachment_id_email_attachments_id_fk": {
          "name": "email_message_attachments_attachment_id_email_attachments_id_fk",
          "tableFrom": "email_message_attachments",
          "tableTo": "email_attachments",
          "columnsFrom": [
            "attachment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_message_attachment": {
          "name": "unique_message_attachment",
          "nullsNotDistinct": false,
          "columns": [
            "internet_message_id",
            "attachment_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_messages": {
      "name": "email_messages",
      "schema": "",
      "columns": {
        "internet_message_id": {
          "name": "internet_message_id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "canonical_conversation_id": {
          "name": "canonical_conversation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id_seen": {
          "name": "conversation_id_seen",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "thread_key": {
          "name": "thread_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "thread_position": {
          "name": "thread_position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "from": {
          "name": "from",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "to": {
          "name": "to",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "cc": {
          "name": "cc",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "bcc": {
          "name": "bcc",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "subject_stem": {
          "name": "subject_stem",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "body_preview": {
          "name": "body_preview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "received_datetime": {
          "name": "received_datetime",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "sent_datetime": {
          "name": "sent_datetime",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "in_reply_to": {
          "name": "in_reply_to",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "references": {
          "name": "references",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "direction": {
          "name": "direction",
          "type": "email_direction",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "is_internal_only": {
          "name": "is_internal_only",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "participant_count": {
          "name": "participant_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "has_attachments": {
          "name": "has_attachments",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_match_confidence": {
          "name": "client_match_confidence",
          "type": "email_match_confidence",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "mailbox_owner_user_id": {
          "name": "mailbox_owner_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "graph_message_id": {
          "name": "graph_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_index": {
          "name": "conversation_index",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internet_message_headers": {
          "name": "internet_message_headers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "error_count": {
          "name": "error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_email_messages_canonical_conversation_id": {
          "name": "idx_email_messages_canonical_conversation_id",
          "columns": [
            {
              "expression": "canonical_conversation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_messages_thread_key": {
          "name": "idx_email_messages_thread_key",
          "columns": [
            {
              "expression": "thread_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_messages_in_reply_to": {
          "name": "idx_email_messages_in_reply_to",
          "columns": [
            {
              "expression": "in_reply_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_messages_client_id": {
          "name": "idx_email_messages_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_messages_client_id_received": {
          "name": "idx_email_messages_client_id_received",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "received_datetime",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_messages_from": {
          "name": "idx_email_messages_from",
          "columns": [
            {
              "expression": "from",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_messages_mailbox_owner": {
          "name": "idx_email_messages_mailbox_owner",
          "columns": [
            {
              "expression": "mailbox_owner_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_messages_direction": {
          "name": "idx_email_messages_direction",
          "columns": [
            {
              "expression": "direction",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_messages_is_internal_only": {
          "name": "idx_email_messages_is_internal_only",
          "columns": [
            {
              "expression": "is_internal_only",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_messages_received_datetime": {
          "name": "idx_email_messages_received_datetime",
          "columns": [
            {
              "expression": "received_datetime",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_messages_canonical_conversation_id_email_threads_canonical_conversation_id_fk": {
          "name": "email_messages_canonical_conversation_id_email_threads_canonical_conversation_id_fk",
          "tableFrom": "email_messages",
          "tableTo": "email_threads",
          "columnsFrom": [
            "canonical_conversation_id"
          ],
          "columnsTo": [
            "canonical_conversation_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "email_messages_client_id_clients_id_fk": {
          "name": "email_messages_client_id_clients_id_fk",
          "tableFrom": "email_messages",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "email_messages_mailbox_owner_user_id_users_id_fk": {
          "name": "email_messages_mailbox_owner_user_id_users_id_fk",
          "tableFrom": "email_messages",
          "tableTo": "users",
          "columnsFrom": [
            "mailbox_owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_threads": {
      "name": "email_threads",
      "schema": "",
      "columns": {
        "canonical_conversation_id": {
          "name": "canonical_conversation_id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "thread_key": {
          "name": "thread_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "participants": {
          "name": "participants",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_message_at": {
          "name": "first_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "message_count": {
          "name": "message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "latest_preview": {
          "name": "latest_preview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "latest_direction": {
          "name": "latest_direction",
          "type": "email_direction",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_email_threads_client_id": {
          "name": "idx_email_threads_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_threads_last_message_at": {
          "name": "idx_email_threads_last_message_at",
          "columns": [
            {
              "expression": "last_message_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_threads_thread_key": {
          "name": "idx_email_threads_thread_key",
          "columns": [
            {
              "expression": "thread_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "email_threads_client_id_clients_id_fk": {
          "name": "email_threads_client_id_clients_id_fk",
          "tableFrom": "email_threads",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "email_threads_thread_key_unique": {
          "name": "email_threads_thread_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "thread_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.graph_sync_state": {
      "name": "graph_sync_state",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "folder_path": {
          "name": "folder_path",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "delta_link": {
          "name": "delta_link",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_sync_at": {
          "name": "last_sync_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_message_count": {
          "name": "last_message_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_graph_sync_state_user_id": {
          "name": "idx_graph_sync_state_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_graph_sync_state_last_sync": {
          "name": "idx_graph_sync_state_last_sync",
          "columns": [
            {
              "expression": "last_sync_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "graph_sync_state_user_id_users_id_fk": {
          "name": "graph_sync_state_user_id_users_id_fk",
          "tableFrom": "graph_sync_state",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_folder_sync": {
          "name": "unique_user_folder_sync",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "folder_path"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.graph_webhook_subscriptions": {
      "name": "graph_webhook_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource": {
          "name": "resource",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "client_state": {
          "name": "client_state",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_renewed_at": {
          "name": "last_renewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_notification_at": {
          "name": "last_notification_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_graph_subscriptions_user_id": {
          "name": "idx_graph_subscriptions_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_graph_subscriptions_expires_at": {
          "name": "idx_graph_subscriptions_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_graph_subscriptions_is_active": {
          "name": "idx_graph_subscriptions_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "graph_webhook_subscriptions_user_id_users_id_fk": {
          "name": "graph_webhook_subscriptions_user_id_users_id_fk",
          "tableFrom": "graph_webhook_subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "graph_webhook_subscriptions_subscription_id_unique": {
          "name": "graph_webhook_subscriptions_subscription_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "subscription_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mailbox_message_map": {
      "name": "mailbox_message_map",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "mailbox_user_id": {
          "name": "mailbox_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "mailbox_message_id": {
          "name": "mailbox_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "internet_message_id": {
          "name": "internet_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "folder_path": {
          "name": "folder_path",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_mailbox_message_map_internet_message_id": {
          "name": "idx_mailbox_message_map_internet_message_id",
          "columns": [
            {
              "expression": "internet_message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_mailbox_message_map_mailbox_user": {
          "name": "idx_mailbox_message_map_mailbox_user",
          "columns": [
            {
              "expression": "mailbox_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "mailbox_message_map_mailbox_user_id_users_id_fk": {
          "name": "mailbox_message_map_mailbox_user_id_users_id_fk",
          "tableFrom": "mailbox_message_map",
          "tableTo": "users",
          "columnsFrom": [
            "mailbox_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "mailbox_message_map_internet_message_id_email_messages_internet_message_id_fk": {
          "name": "mailbox_message_map_internet_message_id_email_messages_internet_message_id_fk",
          "tableFrom": "mailbox_message_map",
          "tableTo": "email_messages",
          "columnsFrom": [
            "internet_message_id"
          ],
          "columnsTo": [
            "internet_message_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_mailbox_graph_message": {
          "name": "unique_mailbox_graph_message",
          "nullsNotDistinct": false,
          "columns": [
            "mailbox_user_id",
            "mailbox_message_id"
          ]
        },
        "unique_mailbox_internet_message": {
          "name": "unique_mailbox_internet_message",
          "nullsNotDistinct": false,
          "columns": [
            "mailbox_user_id",
            "internet_message_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.unmatched_emails": {
      "name": "unmatched_emails",
      "schema": "",
      "columns": {
        "internet_message_id": {
          "name": "internet_message_id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "from": {
          "name": "from",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "to": {
          "name": "to",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "cc": {
          "name": "cc",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "subject_stem": {
          "name": "subject_stem",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "in_reply_to": {
          "name": "in_reply_to",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "references": {
          "name": "references",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "received_datetime": {
          "name": "received_datetime",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "mailbox_owner_user_id": {
          "name": "mailbox_owner_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "direction": {
          "name": "direction",
          "type": "email_direction",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_unmatched_emails_from": {
          "name": "idx_unmatched_emails_from",
          "columns": [
            {
              "expression": "from",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_unmatched_emails_received_datetime": {
          "name": "idx_unmatched_emails_received_datetime",
          "columns": [
            {
              "expression": "received_datetime",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_unmatched_emails_in_reply_to": {
          "name": "idx_unmatched_emails_in_reply_to",
          "columns": [
            {
              "expression": "in_reply_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_unmatched_emails_retry_count": {
          "name": "idx_unmatched_emails_retry_count",
          "columns": [
            {
              "expression": "retry_count",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "unmatched_emails_internet_message_id_email_messages_internet_message_id_fk": {
          "name": "unmatched_emails_internet_message_id_email_messages_internet_message_id_fk",
          "tableFrom": "unmatched_emails",
          "tableTo": "email_messages",
          "columnsFrom": [
            "internet_message_id"
          ],
          "columnsTo": [
            "internet_message_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "unmatched_emails_mailbox_owner_user_id_users_id_fk": {
          "name": "unmatched_emails_mailbox_owner_user_id_users_id_fk",
          "tableFrom": "unmatched_emails",
          "tableTo": "users",
          "columnsFrom": [
            "mailbox_owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.internal_tasks": {
      "name": "internal_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "internal_task_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "priority": {
          "name": "priority",
          "type": "internal_task_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'low'"
        },
        "task_type_id": {
          "name": "task_type_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "closed_at": {
          "name": "closed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "closed_by": {
          "name": "closed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "closure_note": {
          "name": "closure_note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_time_spent_minutes": {
          "name": "total_time_spent_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_archived": {
          "name": "is_archived",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "archived_by": {
          "name": "archived_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_internal_tasks_status": {
          "name": "idx_internal_tasks_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_internal_tasks_priority": {
          "name": "idx_internal_tasks_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_internal_tasks_created_by": {
          "name": "idx_internal_tasks_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_internal_tasks_assigned_to": {
          "name": "idx_internal_tasks_assigned_to",
          "columns": [
            {
              "expression": "assigned_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_internal_tasks_task_type_id": {
          "name": "idx_internal_tasks_task_type_id",
          "columns": [
            {
              "expression": "task_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_internal_tasks_due_date": {
          "name": "idx_internal_tasks_due_date",
          "columns": [
            {
              "expression": "due_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_internal_tasks_is_archived": {
          "name": "idx_internal_tasks_is_archived",
          "columns": [
            {
              "expression": "is_archived",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "internal_tasks_task_type_id_task_types_id_fk": {
          "name": "internal_tasks_task_type_id_task_types_id_fk",
          "tableFrom": "internal_tasks",
          "tableTo": "task_types",
          "columnsFrom": [
            "task_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "internal_tasks_created_by_users_id_fk": {
          "name": "internal_tasks_created_by_users_id_fk",
          "tableFrom": "internal_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "internal_tasks_assigned_to_users_id_fk": {
          "name": "internal_tasks_assigned_to_users_id_fk",
          "tableFrom": "internal_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "internal_tasks_closed_by_users_id_fk": {
          "name": "internal_tasks_closed_by_users_id_fk",
          "tableFrom": "internal_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "closed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "internal_tasks_archived_by_users_id_fk": {
          "name": "internal_tasks_archived_by_users_id_fk",
          "tableFrom": "internal_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "archived_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_connections": {
      "name": "task_connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_connections_task_id": {
          "name": "idx_task_connections_task_id",
          "columns": [
            {
              "expression": "task_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_connections_entity": {
          "name": "idx_task_connections_entity",
          "columns": [
            {
              "expression": "entity_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "entity_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "task_connections_task_id_internal_tasks_id_fk": {
          "name": "task_connections_task_id_internal_tasks_id_fk",
          "tableFrom": "task_connections",
          "tableTo": "internal_tasks",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_documents": {
      "name": "task_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "storage_path": {
          "name": "storage_path",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_documents_task_id": {
          "name": "idx_task_documents_task_id",
          "columns": [
            {
              "expression": "task_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_documents_uploaded_by": {
          "name": "idx_task_documents_uploaded_by",
          "columns": [
            {
              "expression": "uploaded_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "task_documents_task_id_internal_tasks_id_fk": {
          "name": "task_documents_task_id_internal_tasks_id_fk",
          "tableFrom": "task_documents",
          "tableTo": "internal_tasks",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "task_documents_uploaded_by_users_id_fk": {
          "name": "task_documents_uploaded_by_users_id_fk",
          "tableFrom": "task_documents",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_instance_responses": {
      "name": "task_instance_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "task_instance_id": {
          "name": "task_instance_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "question_id": {
          "name": "question_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "response_value": {
          "name": "response_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_urls": {
          "name": "file_urls",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_instance_responses_task_instance_id": {
          "name": "idx_task_instance_responses_task_instance_id",
          "columns": [
            {
              "expression": "task_instance_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_instance_responses_question_id": {
          "name": "idx_task_instance_responses_question_id",
          "columns": [
            {
              "expression": "question_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "task_instance_responses_task_instance_id_task_instances_id_fk": {
          "name": "task_instance_responses_task_instance_id_task_instances_id_fk",
          "tableFrom": "task_instance_responses",
          "tableTo": "task_instances",
          "columnsFrom": [
            "task_instance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_task_instance_question": {
          "name": "unique_task_instance_question",
          "nullsNotDistinct": false,
          "columns": [
            "task_instance_id",
            "question_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_instances": {
      "name": "task_instances",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "custom_request_id": {
          "name": "custom_request_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "person_id": {
          "name": "person_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_portal_user_id": {
          "name": "client_portal_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "task_instance_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_started'"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_instances_template_id": {
          "name": "idx_task_instances_template_id",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_instances_custom_request_id": {
          "name": "idx_task_instances_custom_request_id",
          "columns": [
            {
              "expression": "custom_request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_instances_client_id": {
          "name": "idx_task_instances_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_instances_person_id": {
          "name": "idx_task_instances_person_id",
          "columns": [
            {
              "expression": "person_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_instances_client_portal_user_id": {
          "name": "idx_task_instances_client_portal_user_id",
          "columns": [
            {
              "expression": "client_portal_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_instances_status": {
          "name": "idx_task_instances_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "task_instances_template_id_client_request_templates_id_fk": {
          "name": "task_instances_template_id_client_request_templates_id_fk",
          "tableFrom": "task_instances",
          "tableTo": "client_request_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "task_instances_custom_request_id_client_custom_requests_id_fk": {
          "name": "task_instances_custom_request_id_client_custom_requests_id_fk",
          "tableFrom": "task_instances",
          "tableTo": "client_custom_requests",
          "columnsFrom": [
            "custom_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "task_instances_client_id_clients_id_fk": {
          "name": "task_instances_client_id_clients_id_fk",
          "tableFrom": "task_instances",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "task_instances_person_id_people_id_fk": {
          "name": "task_instances_person_id_people_id_fk",
          "tableFrom": "task_instances",
          "tableTo": "people",
          "columnsFrom": [
            "person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "task_instances_client_portal_user_id_client_portal_users_id_fk": {
          "name": "task_instances_client_portal_user_id_client_portal_users_id_fk",
          "tableFrom": "task_instances",
          "tableTo": "client_portal_users",
          "columnsFrom": [
            "client_portal_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "task_instances_assigned_by_users_id_fk": {
          "name": "task_instances_assigned_by_users_id_fk",
          "tableFrom": "task_instances",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "task_instances_approved_by_users_id_fk": {
          "name": "task_instances_approved_by_users_id_fk",
          "tableFrom": "task_instances",
          "tableTo": "users",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_progress_notes": {
      "name": "task_progress_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_progress_notes_task_id": {
          "name": "idx_task_progress_notes_task_id",
          "columns": [
            {
              "expression": "task_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_progress_notes_user_id": {
          "name": "idx_task_progress_notes_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_progress_notes_created_at": {
          "name": "idx_task_progress_notes_created_at",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "task_progress_notes_task_id_internal_tasks_id_fk": {
          "name": "task_progress_notes_task_id_internal_tasks_id_fk",
          "tableFrom": "task_progress_notes",
          "tableTo": "internal_tasks",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "task_progress_notes_user_id_users_id_fk": {
          "name": "task_progress_notes_user_id_users_id_fk",
          "tableFrom": "task_progress_notes",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_time_entries": {
      "name": "task_time_entries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "task_id": {
          "name": "task_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_time_entries_task_id": {
          "name": "idx_task_time_entries_task_id",
          "columns": [
            {
              "expression": "task_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_time_entries_user_id": {
          "name": "idx_task_time_entries_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_time_entries_start_time": {
          "name": "idx_task_time_entries_start_time",
          "columns": [
            {
              "expression": "start_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "task_time_entries_task_id_internal_tasks_id_fk": {
          "name": "task_time_entries_task_id_internal_tasks_id_fk",
          "tableFrom": "task_time_entries",
          "tableTo": "internal_tasks",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "task_time_entries_user_id_users_id_fk": {
          "name": "task_time_entries_user_id_users_id_fk",
          "tableFrom": "task_time_entries",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.task_types": {
      "name": "task_types",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "task_types_name_unique": {
          "name": "task_types_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_custom_request_questions": {
      "name": "client_custom_request_questions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "section_id": {
          "name": "section_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "question_type": {
          "name": "question_type",
          "type": "question_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "help_text": {
          "name": "help_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "validation_rules": {
          "name": "validation_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "options": {
          "name": "options",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "conditional_logic": {
          "name": "conditional_logic",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_client_custom_request_questions_section_id": {
          "name": "idx_client_custom_request_questions_section_id",
          "columns": [
            {
              "expression": "section_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_custom_request_questions_order": {
          "name": "idx_client_custom_request_questions_order",
          "columns": [
            {
              "expression": "section_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_custom_request_questions_section_id_client_custom_request_sections_id_fk": {
          "name": "client_custom_request_questions_section_id_client_custom_request_sections_id_fk",
          "tableFrom": "client_custom_request_questions",
          "tableTo": "client_custom_request_sections",
          "columnsFrom": [
            "section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_custom_request_sections": {
      "name": "client_custom_request_sections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "request_id": {
          "name": "request_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_client_custom_request_sections_request_id": {
          "name": "idx_client_custom_request_sections_request_id",
          "columns": [
            {
              "expression": "request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_client_custom_request_sections_order": {
          "name": "idx_client_custom_request_sections_order",
          "columns": [
            {
              "expression": "request_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_custom_request_sections_request_id_client_custom_requests_id_fk": {
          "name": "client_custom_request_sections_request_id_client_custom_requests_id_fk",
          "tableFrom": "client_custom_request_sections",
          "tableTo": "client_custom_requests",
          "columnsFrom": [
            "request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_custom_requests": {
      "name": "client_custom_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_client_custom_requests_client_id": {
          "name": "idx_client_custom_requests_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_custom_requests_client_id_clients_id_fk": {
          "name": "client_custom_requests_client_id_clients_id_fk",
          "tableFrom": "client_custom_requests",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_custom_requests_created_by_users_id_fk": {
          "name": "client_custom_requests_created_by_users_id_fk",
          "tableFrom": "client_custom_requests",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_request_reminders": {
      "name": "client_request_reminders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_type_notification_id": {
          "name": "project_type_notification_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "notification_type": {
          "name": "notification_type",
          "type": "notification_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "days_after_creation": {
          "name": "days_after_creation",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "email_title": {
          "name": "email_title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email_body": {
          "name": "email_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sms_content": {
          "name": "sms_content",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "push_title": {
          "name": "push_title",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "push_body": {
          "name": "push_body",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_client_request_reminders_notification_id": {
          "name": "idx_client_request_reminders_notification_id",
          "columns": [
            {
              "expression": "project_type_notification_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_request_reminders_project_type_notification_id_project_type_notifications_id_fk": {
          "name": "client_request_reminders_project_type_notification_id_project_type_notifications_id_fk",
          "tableFrom": "client_request_reminders",
          "tableTo": "project_type_notifications",
          "columnsFrom": [
            "project_type_notification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "check_email_reminder_content": {
          "name": "check_email_reminder_content",
          "value": "\n    (notification_type != 'email' OR (email_title IS NOT NULL AND email_body IS NOT NULL))\n  "
        },
        "check_sms_reminder_content": {
          "name": "check_sms_reminder_content",
          "value": "\n    (notification_type != 'sms' OR sms_content IS NOT NULL)\n  "
        },
        "check_push_reminder_content": {
          "name": "check_push_reminder_content",
          "value": "\n    (notification_type != 'push' OR (push_title IS NOT NULL AND push_body IS NOT NULL))\n  "
        }
      },
      "isRLSEnabled": false
    },
    "public.client_request_template_categories": {
      "name": "client_request_template_categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_template_categories_order": {
          "name": "idx_task_template_categories_order",
          "columns": [
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_request_template_questions": {
      "name": "client_request_template_questions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "section_id": {
          "name": "section_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "question_type": {
          "name": "question_type",
          "type": "question_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "help_text": {
          "name": "help_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_required": {
          "name": "is_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "validation_rules": {
          "name": "validation_rules",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "options": {
          "name": "options",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "conditional_logic": {
          "name": "conditional_logic",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_template_questions_section_id": {
          "name": "idx_task_template_questions_section_id",
          "columns": [
            {
              "expression": "section_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_template_questions_order": {
          "name": "idx_task_template_questions_order",
          "columns": [
            {
              "expression": "section_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_request_template_questions_section_id_client_request_template_sections_id_fk": {
          "name": "client_request_template_questions_section_id_client_request_template_sections_id_fk",
          "tableFrom": "client_request_template_questions",
          "tableTo": "client_request_template_sections",
          "columnsFrom": [
            "section_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_request_template_sections": {
      "name": "client_request_template_sections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_template_sections_template_id": {
          "name": "idx_task_template_sections_template_id",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_template_sections_order": {
          "name": "idx_task_template_sections_order",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "order",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_request_template_sections_template_id_client_request_templates_id_fk": {
          "name": "client_request_template_sections_template_id_client_request_templates_id_fk",
          "tableFrom": "client_request_template_sections",
          "tableTo": "client_request_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.client_request_templates": {
      "name": "client_request_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "category_id": {
          "name": "category_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_templates_category_id": {
          "name": "idx_task_templates_category_id",
          "columns": [
            {
              "expression": "category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_templates_status": {
          "name": "idx_task_templates_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "client_request_templates_category_id_client_request_template_categories_id_fk": {
          "name": "client_request_templates_category_id_client_request_template_categories_id_fk",
          "tableFrom": "client_request_templates",
          "tableTo": "client_request_template_categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "client_request_templates_created_by_users_id_fk": {
          "name": "client_request_templates_created_by_users_id_fk",
          "tableFrom": "client_request_templates",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.risk_assessment_responses": {
      "name": "risk_assessment_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "risk_assessment_id": {
          "name": "risk_assessment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "question_key": {
          "name": "question_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "response": {
          "name": "response",
          "type": "risk_response",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_risk_responses_assessment_id": {
          "name": "idx_risk_responses_assessment_id",
          "columns": [
            {
              "expression": "risk_assessment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "risk_assessment_responses_risk_assessment_id_risk_assessments_id_fk": {
          "name": "risk_assessment_responses_risk_assessment_id_risk_assessments_id_fk",
          "tableFrom": "risk_assessment_responses",
          "tableTo": "risk_assessments",
          "columnsFrom": [
            "risk_assessment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_assessment_question": {
          "name": "unique_assessment_question",
          "nullsNotDistinct": false,
          "columns": [
            "risk_assessment_id",
            "question_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.risk_assessments": {
      "name": "risk_assessments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "aml_prepared_by": {
          "name": "aml_prepared_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "preparation_started": {
          "name": "preparation_started",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "preparation_completed": {
          "name": "preparation_completed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "enhanced_due_diligence_required": {
          "name": "enhanced_due_diligence_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "aml_reviewed_by": {
          "name": "aml_reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "review_started": {
          "name": "review_started",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_completed": {
          "name": "review_completed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "general_information": {
          "name": "general_information",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "risk_level": {
          "name": "risk_level",
          "type": "risk_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "initial_date": {
          "name": "initial_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_date": {
          "name": "review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "further_risks_initial_date": {
          "name": "further_risks_initial_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "further_risks_review_date": {
          "name": "further_risks_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "money_laundering_officer": {
          "name": "money_laundering_officer",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "mlo_review_date": {
          "name": "mlo_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "electronic_search_reference": {
          "name": "electronic_search_reference",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_risk_assessments_client_id": {
          "name": "idx_risk_assessments_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_risk_assessments_version": {
          "name": "idx_risk_assessments_version",
          "columns": [
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "risk_assessments_client_id_clients_id_fk": {
          "name": "risk_assessments_client_id_clients_id_fk",
          "tableFrom": "risk_assessments",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "risk_assessments_aml_prepared_by_users_id_fk": {
          "name": "risk_assessments_aml_prepared_by_users_id_fk",
          "tableFrom": "risk_assessments",
          "tableTo": "users",
          "columnsFrom": [
            "aml_prepared_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "risk_assessments_aml_reviewed_by_users_id_fk": {
          "name": "risk_assessments_aml_reviewed_by_users_id_fk",
          "tableFrom": "risk_assessments",
          "tableTo": "users",
          "columnsFrom": [
            "aml_reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "risk_assessments_money_laundering_officer_users_id_fk": {
          "name": "risk_assessments_money_laundering_officer_users_id_fk",
          "tableFrom": "risk_assessments",
          "tableTo": "users",
          "columnsFrom": [
            "money_laundering_officer"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_history": {
      "name": "notification_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "scheduled_notification_id": {
          "name": "scheduled_notification_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_email": {
          "name": "recipient_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_phone": {
          "name": "recipient_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notification_type": {
          "name": "notification_type",
          "type": "notification_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "notification_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notification_history_scheduled_notification_id": {
          "name": "idx_notification_history_scheduled_notification_id",
          "columns": [
            {
              "expression": "scheduled_notification_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_history_client_id": {
          "name": "idx_notification_history_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_history_sent_at": {
          "name": "idx_notification_history_sent_at",
          "columns": [
            {
              "expression": "sent_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_history_status": {
          "name": "idx_notification_history_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_history_notification_type": {
          "name": "idx_notification_history_notification_type",
          "columns": [
            {
              "expression": "notification_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notification_history_client_created": {
          "name": "idx_notification_history_client_created",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notification_history_scheduled_notification_id_scheduled_notifications_id_fk": {
          "name": "notification_history_scheduled_notification_id_scheduled_notifications_id_fk",
          "tableFrom": "notification_history",
          "tableTo": "scheduled_notifications",
          "columnsFrom": [
            "scheduled_notification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "notification_history_client_id_clients_id_fk": {
          "name": "notification_history_client_id_clients_id_fk",
          "tableFrom": "notification_history",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notification_icons": {
      "name": "notification_icons",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "storage_path": {
          "name": "storage_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "notification_icons_uploaded_by_idx": {
          "name": "notification_icons_uploaded_by_idx",
          "columns": [
            {
              "expression": "uploaded_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notification_icons_uploaded_by_users_id_fk": {
          "name": "notification_icons_uploaded_by_users_id_fk",
          "tableFrom": "notification_icons",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_type_notifications": {
      "name": "project_type_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_type_id": {
          "name": "project_type_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "notification_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "notification_type": {
          "name": "notification_type",
          "type": "notification_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "date_reference": {
          "name": "date_reference",
          "type": "date_reference",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "offset_type": {
          "name": "offset_type",
          "type": "date_offset_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "offset_days": {
          "name": "offset_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stage_id": {
          "name": "stage_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stage_trigger": {
          "name": "stage_trigger",
          "type": "stage_trigger",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "email_title": {
          "name": "email_title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email_body": {
          "name": "email_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sms_content": {
          "name": "sms_content",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "push_title": {
          "name": "push_title",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "push_body": {
          "name": "push_body",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "client_request_template_id": {
          "name": "client_request_template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "eligible_stage_ids": {
          "name": "eligible_stage_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_project_type_notifications_project_type_id": {
          "name": "idx_project_type_notifications_project_type_id",
          "columns": [
            {
              "expression": "project_type_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_type_notifications_stage_id": {
          "name": "idx_project_type_notifications_stage_id",
          "columns": [
            {
              "expression": "stage_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_type_notifications_category": {
          "name": "idx_project_type_notifications_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_project_type_notifications_client_request_template_id": {
          "name": "idx_project_type_notifications_client_request_template_id",
          "columns": [
            {
              "expression": "client_request_template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "project_type_notifications_project_type_id_project_types_id_fk": {
          "name": "project_type_notifications_project_type_id_project_types_id_fk",
          "tableFrom": "project_type_notifications",
          "tableTo": "project_types",
          "columnsFrom": [
            "project_type_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_type_notifications_stage_id_kanban_stages_id_fk": {
          "name": "project_type_notifications_stage_id_kanban_stages_id_fk",
          "tableFrom": "project_type_notifications",
          "tableTo": "kanban_stages",
          "columnsFrom": [
            "stage_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "project_type_notifications_client_request_template_id_client_request_templates_id_fk": {
          "name": "project_type_notifications_client_request_template_id_client_request_templates_id_fk",
          "tableFrom": "project_type_notifications",
          "tableTo": "client_request_templates",
          "columnsFrom": [
            "client_request_template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "check_project_notification_fields": {
          "name": "check_project_notification_fields",
          "value": "\n    (category != 'project' OR (date_reference IS NOT NULL AND offset_type IS NOT NULL AND offset_days IS NOT NULL))\n  "
        },
        "check_stage_notification_fields": {
          "name": "check_stage_notification_fields",
          "value": "\n    (category != 'stage' OR (stage_id IS NOT NULL AND stage_trigger IS NOT NULL))\n  "
        },
        "check_email_notification_content": {
          "name": "check_email_notification_content",
          "value": "\n    (notification_type != 'email' OR (email_title IS NOT NULL AND email_body IS NOT NULL))\n  "
        },
        "check_sms_notification_content": {
          "name": "check_sms_notification_content",
          "value": "\n    (notification_type != 'sms' OR sms_content IS NOT NULL)\n  "
        },
        "check_push_notification_content": {
          "name": "check_push_notification_content",
          "value": "\n    (notification_type != 'push' OR (push_title IS NOT NULL AND push_body IS NOT NULL))\n  "
        }
      },
      "isRLSEnabled": false
    },
    "public.push_notification_templates": {
      "name": "push_notification_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_type": {
          "name": "template_type",
          "type": "push_template_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title_template": {
          "name": "title_template",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "body_template": {
          "name": "body_template",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "icon_url": {
          "name": "icon_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "badge_url": {
          "name": "badge_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "push_templates_type_idx": {
          "name": "push_templates_type_idx",
          "columns": [
            {
              "expression": "template_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.push_subscriptions": {
      "name": "push_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_portal_user_id": {
          "name": "client_portal_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "endpoint": {
          "name": "endpoint",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "keys": {
          "name": "keys",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "push_subscriptions_user_id_idx": {
          "name": "push_subscriptions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "push_subscriptions_client_portal_user_id_idx": {
          "name": "push_subscriptions_client_portal_user_id_idx",
          "columns": [
            {
              "expression": "client_portal_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "push_subscriptions_user_id_users_id_fk": {
          "name": "push_subscriptions_user_id_users_id_fk",
          "tableFrom": "push_subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "push_subscriptions_client_portal_user_id_client_portal_users_id_fk": {
          "name": "push_subscriptions_client_portal_user_id_client_portal_users_id_fk",
          "tableFrom": "push_subscriptions",
          "tableTo": "client_portal_users",
          "columnsFrom": [
            "client_portal_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_push_subscription_endpoint": {
          "name": "unique_push_subscription_endpoint",
          "nullsNotDistinct": false,
          "columns": [
            "endpoint"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scheduled_notifications": {
      "name": "scheduled_notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_type_notification_id": {
          "name": "project_type_notification_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_request_reminder_id": {
          "name": "client_request_reminder_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "person_id": {
          "name": "person_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client_service_id": {
          "name": "client_service_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "task_instance_id": {
          "name": "task_instance_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "notification_type": {
          "name": "notification_type",
          "type": "notification_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_for": {
          "name": "scheduled_for",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "date_reference": {
          "name": "date_reference",
          "type": "date_reference",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "email_title": {
          "name": "email_title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email_body": {
          "name": "email_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sms_content": {
          "name": "sms_content",
          "type": "varchar(160)",
          "primaryKey": false,
          "notNull": false
        },
        "push_title": {
          "name": "push_title",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "push_body": {
          "name": "push_body",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "notification_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancel_reason": {
          "name": "cancel_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stop_reminders": {
          "name": "stop_reminders",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "eligible_stage_ids_snapshot": {
          "name": "eligible_stage_ids_snapshot",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "suppressed_at": {
          "name": "suppressed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reactivated_at": {
          "name": "reactivated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_scheduled_notifications_project_type_notification_id": {
          "name": "idx_scheduled_notifications_project_type_notification_id",
          "columns": [
            {
              "expression": "project_type_notification_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_notifications_client_request_reminder_id": {
          "name": "idx_scheduled_notifications_client_request_reminder_id",
          "columns": [
            {
              "expression": "client_request_reminder_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_notifications_client_id": {
          "name": "idx_scheduled_notifications_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_notifications_person_id": {
          "name": "idx_scheduled_notifications_person_id",
          "columns": [
            {
              "expression": "person_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_notifications_client_service_id": {
          "name": "idx_scheduled_notifications_client_service_id",
          "columns": [
            {
              "expression": "client_service_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_notifications_project_id": {
          "name": "idx_scheduled_notifications_project_id",
          "columns": [
            {
              "expression": "project_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_notifications_task_instance_id": {
          "name": "idx_scheduled_notifications_task_instance_id",
          "columns": [
            {
              "expression": "task_instance_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_notifications_scheduled_for": {
          "name": "idx_scheduled_notifications_scheduled_for",
          "columns": [
            {
              "expression": "scheduled_for",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_notifications_status": {
          "name": "idx_scheduled_notifications_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_notifications_client_status_scheduled": {
          "name": "idx_scheduled_notifications_client_status_scheduled",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scheduled_for",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_notifications_client_status_sent": {
          "name": "idx_scheduled_notifications_client_status_sent",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sent_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_scheduled_notifications_status_scheduled_for": {
          "name": "idx_scheduled_notifications_status_scheduled_for",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "scheduled_for",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "scheduled_notifications_project_type_notification_id_project_type_notifications_id_fk": {
          "name": "scheduled_notifications_project_type_notification_id_project_type_notifications_id_fk",
          "tableFrom": "scheduled_notifications",
          "tableTo": "project_type_notifications",
          "columnsFrom": [
            "project_type_notification_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_notifications_client_request_reminder_id_client_request_reminders_id_fk": {
          "name": "scheduled_notifications_client_request_reminder_id_client_request_reminders_id_fk",
          "tableFrom": "scheduled_notifications",
          "tableTo": "client_request_reminders",
          "columnsFrom": [
            "client_request_reminder_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_notifications_client_id_clients_id_fk": {
          "name": "scheduled_notifications_client_id_clients_id_fk",
          "tableFrom": "scheduled_notifications",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_notifications_person_id_people_id_fk": {
          "name": "scheduled_notifications_person_id_people_id_fk",
          "tableFrom": "scheduled_notifications",
          "tableTo": "people",
          "columnsFrom": [
            "person_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_notifications_client_service_id_client_services_id_fk": {
          "name": "scheduled_notifications_client_service_id_client_services_id_fk",
          "tableFrom": "scheduled_notifications",
          "tableTo": "client_services",
          "columnsFrom": [
            "client_service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_notifications_project_id_projects_id_fk": {
          "name": "scheduled_notifications_project_id_projects_id_fk",
          "tableFrom": "scheduled_notifications",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_notifications_task_instance_id_task_instances_id_fk": {
          "name": "scheduled_notifications_task_instance_id_task_instances_id_fk",
          "tableFrom": "scheduled_notifications",
          "tableTo": "task_instances",
          "columnsFrom": [
            "task_instance_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "scheduled_notifications_cancelled_by_users_id_fk": {
          "name": "scheduled_notifications_cancelled_by_users_id_fk",
          "tableFrom": "scheduled_notifications",
          "tableTo": "users",
          "columnsFrom": [
            "cancelled_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {
        "check_notification_source": {
          "name": "check_notification_source",
          "value": "\n    (project_type_notification_id IS NOT NULL AND client_request_reminder_id IS NULL) OR\n    (project_type_notification_id IS NULL AND client_request_reminder_id IS NOT NULL)\n  "
        }
      },
      "isRLSEnabled": false
    },
    "public.webhook_configs": {
      "name": "webhook_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "webhook_url": {
          "name": "webhook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "update_webhook_url": {
          "name": "update_webhook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "required_client_fields": {
          "name": "required_client_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::text[]"
        },
        "required_person_fields": {
          "name": "required_person_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::text[]"
        },
        "included_client_fields": {
          "name": "included_client_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::text[]"
        },
        "included_person_fields": {
          "name": "included_person_fields",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::text[]"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_webhook_configs_is_enabled": {
          "name": "idx_webhook_configs_is_enabled",
          "columns": [
            {
              "expression": "is_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_configs_created_by": {
          "name": "idx_webhook_configs_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "webhook_configs_created_by_users_id_fk": {
          "name": "webhook_configs_created_by_users_id_fk",
          "tableFrom": "webhook_configs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_logs": {
      "name": "webhook_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "webhook_config_id": {
          "name": "webhook_config_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "webhook_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "response_code": {
          "name": "response_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "response_body": {
          "name": "response_body",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_webhook_logs_webhook_config_id": {
          "name": "idx_webhook_logs_webhook_config_id",
          "columns": [
            {
              "expression": "webhook_config_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_logs_client_id": {
          "name": "idx_webhook_logs_client_id",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_logs_triggered_by": {
          "name": "idx_webhook_logs_triggered_by",
          "columns": [
            {
              "expression": "triggered_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_logs_status": {
          "name": "idx_webhook_logs_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_logs_sent_at": {
          "name": "idx_webhook_logs_sent_at",
          "columns": [
            {
              "expression": "sent_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_logs_client_sent_at": {
          "name": "idx_webhook_logs_client_sent_at",
          "columns": [
            {
              "expression": "client_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "sent_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "webhook_logs_webhook_config_id_webhook_configs_id_fk": {
          "name": "webhook_logs_webhook_config_id_webhook_configs_id_fk",
          "tableFrom": "webhook_logs",
          "tableTo": "webhook_configs",
          "columnsFrom": [
            "webhook_config_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "webhook_logs_client_id_clients_id_fk": {
          "name": "webhook_logs_client_id_clients_id_fk",
          "tableFrom": "webhook_logs",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "webhook_logs_triggered_by_users_id_fk": {
          "name": "webhook_logs_triggered_by_users_id_fk",
          "tableFrom": "webhook_logs",
          "tableTo": "users",
          "columnsFrom": [
            "triggered_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.funny_error_phrases": {
      "name": "funny_error_phrases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "integer",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "always",
            "name": "funny_error_phrases_id_seq",
            "schema": "public",
            "increment": "1",
            "startWith": "1",
            "minValue": "1",
            "maxValue": "2147483647",
            "cache": "1",
            "cycle": false
          }
        },
        "phrase": {
          "name": "phrase",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_funny_error_phrases_category": {
          "name": "idx_funny_error_phrases_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_seen_phrases": {
      "name": "user_seen_phrases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "phrase_id": {
          "name": "phrase_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "seen_at": {
          "name": "seen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_seen_phrases_user_id": {
          "name": "idx_user_seen_phrases_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_seen_phrases_phrase_id": {
          "name": "idx_user_seen_phrases_phrase_id",
          "columns": [
            {
              "expression": "phrase_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_seen_phrases_user_id_users_id_fk": {
          "name": "user_seen_phrases_user_id_users_id_fk",
          "tableFrom": "user_seen_phrases",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_seen_phrases_phrase_id_funny_error_phrases_id_fk": {
          "name": "user_seen_phrases_phrase_id_funny_error_phrases_id_fk",
          "tableFrom": "user_seen_phrases",
          "tableTo": "funny_error_phrases",
          "columnsFrom": [
            "phrase_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_user_phrase": {
          "name": "unique_user_phrase",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "phrase_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.communication_method": {
      "name": "communication_method",
      "schema": "public",
      "values": [
        "phone",
        "email",
        "video_call",
        "in_person",
        "text_message"
      ]
    },
    "public.communication_source": {
      "name": "communication_source",
      "schema": "public",
      "values": [
        "staff_portal",
        "client_portal",
        "system"
      ]
    },
    "public.comparison_type": {
      "name": "comparison_type",
      "schema": "public",
      "values": [
        "equal_to",
        "less_than",
        "greater_than"
      ]
    },
    "public.custom_field_type": {
      "name": "custom_field_type",
      "schema": "public",
      "values": [
        "boolean",
        "number",
        "short_text",
        "long_text",
        "multi_select"
      ]
    },
    "public.inactive_reason": {
      "name": "inactive_reason",
      "schema": "public",
      "values": [
        "created_in_error",
        "no_longer_required",
        "client_doing_work_themselves"
      ]
    },
    "public.internal_task_priority": {
      "name": "internal_task_priority",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "urgent"
      ]
    },
    "public.internal_task_status": {
      "name": "internal_task_status",
      "schema": "public",
      "values": [
        "open",
        "in_progress",
        "closed"
      ]
    },
    "public.nationality": {
      "name": "nationality",
      "schema": "public",
      "values": [
        "afghan",
        "albanian",
        "algerian",
        "american",
        "andorran",
        "angolan",
        "antiguans",
        "argentinean",
        "armenian",
        "australian",
        "austrian",
        "azerbaijani",
        "bahamian",
        "bahraini",
        "bangladeshi",
        "barbadian",
        "barbudans",
        "batswana",
        "belarusian",
        "belgian",
        "belizean",
        "beninese",
        "bhutanese",
        "bolivian",
        "bosnian",
        "brazilian",
        "british",
        "bruneian",
        "bulgarian",
        "burkinabe",
        "burmese",
        "burundian",
        "cambodian",
        "cameroonian",
        "canadian",
        "cape_verdean",
        "central_african",
        "chadian",
        "chilean",
        "chinese",
        "colombian",
        "comoran",
        "congolese",
        "costa_rican",
        "croatian",
        "cuban",
        "cypriot",
        "czech",
        "danish",
        "djibouti",
        "dominican",
        "dutch",
        "east_timorese",
        "ecuadorean",
        "egyptian",
        "emirian",
        "equatorial_guinean",
        "eritrean",
        "estonian",
        "ethiopian",
        "fijian",
        "filipino",
        "finnish",
        "french",
        "gabonese",
        "gambian",
        "georgian",
        "german",
        "ghanaian",
        "greek",
        "grenadian",
        "guatemalan",
        "guinea_bissauan",
        "guinean",
        "guyanese",
        "haitian",
        "herzegovinian",
        "honduran",
        "hungarian",
        "icelander",
        "indian",
        "indonesian",
        "iranian",
        "iraqi",
        "irish",
        "israeli",
        "italian",
        "ivorian",
        "jamaican",
        "japanese",
        "jordanian",
        "kazakhstani",
        "kenyan",
        "kittian_and_nevisian",
        "kuwaiti",
        "kyrgyz",
        "laotian",
        "latvian",
        "lebanese",
        "liberian",
        "libyan",
        "liechtensteiner",
        "lithuanian",
        "luxembourger",
        "macedonian",
        "malagasy",
        "malawian",
        "malaysian",
        "maldivan",
        "malian",
        "maltese",
        "marshallese",
        "mauritanian",
        "mauritian",
        "mexican",
        "micronesian",
        "moldovan",
        "monacan",
        "mongolian",
        "moroccan",
        "mosotho",
        "motswana",
        "mozambican",
        "namibian",
        "nauruan",
        "nepalese",
        "new_zealander",
        "ni_vanuatu",
        "nicaraguan",
        "nigerien",
        "north_korean",
        "northern_irish",
        "norwegian",
        "omani",
        "pakistani",
        "palauan",
        "panamanian",
        "papua_new_guinean",
        "paraguayan",
        "peruvian",
        "polish",
        "portuguese",
        "qatari",
        "romanian",
        "russian",
        "rwandan",
        "saint_lucian",
        "salvadoran",
        "samoan",
        "san_marinese",
        "sao_tomean",
        "saudi",
        "scottish",
        "senegalese",
        "serbian",
        "seychellois",
        "sierra_leonean",
        "singaporean",
        "slovakian",
        "slovenian",
        "solomon_islander",
        "somali",
        "south_african",
        "south_korean",
        "spanish",
        "sri_lankan",
        "sudanese",
        "surinamer",
        "swazi",
        "swedish",
        "swiss",
        "syrian",
        "taiwanese",
        "tajik",
        "tanzanian",
        "thai",
        "togolese",
        "tongan",
        "trinidadian_or_tobagonian",
        "tunisian",
        "turkish",
        "tuvaluan",
        "ugandan",
        "ukrainian",
        "uruguayan",
        "uzbekistani",
        "venezuelan",
        "vietnamese",
        "welsh",
        "yemenite",
        "zambian",
        "zimbabwean"
      ]
    },
    "public.nlac_reason": {
      "name": "nlac_reason",
      "schema": "public",
      "values": [
        "moving_to_new_accountant",
        "ceasing_trading",
        "no_longer_using_accountant",
        "taking_accounts_in_house",
        "other",
        "reactivated"
      ]
    },
    "public.project_status": {
      "name": "project_status",
      "schema": "public",
      "values": [
        "no_latest_action",
        "bookkeeping_work_required",
        "in_review",
        "needs_client_input",
        "completed"
      ]
    },
    "public.question_type": {
      "name": "question_type",
      "schema": "public",
      "values": [
        "short_text",
        "long_text",
        "email",
        "number",
        "date",
        "single_choice",
        "multi_choice",
        "dropdown",
        "yes_no",
        "file_upload"
      ]
    },
    "public.risk_level": {
      "name": "risk_level",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high"
      ]
    },
    "public.risk_response": {
      "name": "risk_response",
      "schema": "public",
      "values": [
        "no",
        "yes",
        "na"
      ]
    },
    "public.stage_approval_field_type": {
      "name": "stage_approval_field_type",
      "schema": "public",
      "values": [
        "boolean",
        "number",
        "long_text",
        "multi_select"
      ]
    },
    "public.task_instance_status": {
      "name": "task_instance_status",
      "schema": "public",
      "values": [
        "not_started",
        "in_progress",
        "submitted",
        "approved",
        "cancelled"
      ]
    },
    "public.udf_type": {
      "name": "udf_type",
      "schema": "public",
      "values": [
        "number",
        "date",
        "boolean",
        "short_text"
      ]
    },
    "public.communication_type": {
      "name": "communication_type",
      "schema": "public",
      "values": [
        "phone_call",
        "note",
        "sms_sent",
        "sms_received",
        "email_sent",
        "email_received"
      ]
    },
    "public.integration_type": {
      "name": "integration_type",
      "schema": "public",
      "values": [
        "office365",
        "voodoo_sms",
        "ringcentral"
      ]
    },
    "public.thread_status": {
      "name": "thread_status",
      "schema": "public",
      "values": [
        "open",
        "closed",
        "archived"
      ]
    },
    "public.viewed_entity_type": {
      "name": "viewed_entity_type",
      "schema": "public",
      "values": [
        "client",
        "project",
        "person",
        "communication"
      ]
    },
    "public.signature_field_type": {
      "name": "signature_field_type",
      "schema": "public",
      "values": [
        "signature",
        "typed_name"
      ]
    },
    "public.signature_request_status": {
      "name": "signature_request_status",
      "schema": "public",
      "values": [
        "draft",
        "pending",
        "partially_signed",
        "completed",
        "cancelled"
      ]
    },
    "public.email_direction": {
      "name": "email_direction",
      "schema": "public",
      "values": [
        "inbound",
        "outbound",
        "internal",
        "external"
      ]
    },
    "public.email_match_confidence": {
      "name": "email_match_confidence",
      "schema": "public",
      "values": [
        "high",
        "medium",
        "low"
      ]
    },
    "public.date_offset_type": {
      "name": "date_offset_type",
      "schema": "public",
      "values": [
        "before",
        "on",
        "after"
      ]
    },
    "public.date_reference": {
      "name": "date_reference",
      "schema": "public",
      "values": [
        "start_date",
        "due_date"
      ]
    },
    "public.notification_category": {
      "name": "notification_category",
      "schema": "public",
      "values": [
        "project",
        "stage"
      ]
    },
    "public.notification_status": {
      "name": "notification_status",
      "schema": "public",
      "values": [
        "scheduled",
        "sent",
        "failed",
        "cancelled",
        "suppressed"
      ]
    },
    "public.notification_type": {
      "name": "notification_type",
      "schema": "public",
      "values": [
        "email",
        "sms",
        "push"
      ]
    },
    "public.push_template_type": {
      "name": "push_template_type",
      "schema": "public",
      "values": [
        "new_message_staff",
        "new_message_client",
        "document_request",
        "task_assigned",
        "project_stage_change",
        "status_update",
        "reminder"
      ]
    },
    "public.stage_trigger": {
      "name": "stage_trigger",
      "schema": "public",
      "values": [
        "entry",
        "exit"
      ]
    },
    "public.webhook_status": {
      "name": "webhook_status",
      "schema": "public",
      "values": [
        "pending",
        "success",
        "failed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}