Master Prompt â€” Comms Workflow Planning Brief for The Link

Role
You are acting as a senior product architect and systems designer.

Your task is to produce a clear, structured planning document (not code) for building an advanced Communications Workflow system inside The Link.

The goal is to transform email from a passive inbox into an active, zero-backlog workflow where emails behave like micro-tasks.

1ï¸âƒ£ Customer Gate (Hard Filter â€“ First Step)

Design a customer gate that ensures only relevant emails enter the system.

Rules:

Only ingest emails where:

sender.email OR

any cc.email

matches:

a client email address or

a known person (contact) linked to a client in The Link.

All other emails are ignored or quarantined (out of scope for this system).

Document:

Matching logic

Fallbacks

Edge cases (e.g. shared inboxes, forwarded emails)

2ï¸âƒ£ Deterministic Pre-Classification Layer (Non-AI)

Before any AI is used, apply a deterministic rules engine that sets a minimum handling floor.

Rules to include (at minimum):

Question marks

Explicit request phrases (â€œcan youâ€, â€œplease adviseâ€, â€œplease confirmâ€)

Attachments present

Deadline phrases (â€œASAPâ€, dates, â€œby Fridayâ€)

Acknowledgements only (â€œthanksâ€, â€œnotedâ€, â€œall goodâ€)

This layer must:

Be deterministic and explainable

Output minimum guarantees

Never downgrade importance later

Define:

requires_task_floor

requires_reply_floor

Triggered rule list

Explanation

3ï¸âƒ£ AI Classification (OpenAI 4o-mini)

After deterministic filtering, strip the email down to a minimal JSON payload and send it to OpenAI 4o-mini for classification.

AI must classify (true/false, multiple allowed unless stated):

requires_task

requires_reply

sentiment (positive / neutral / negative)

opportunity (upsell, follow-up, commercial opportunity)

urgency

information_only

Rules:

Emails may be true in multiple categories

EXCEPTION:
If information_only = true, it must be exclusive (no other categories true)

Document:

Merge logic between deterministic floor and AI output

Conflict resolution (most conservative result wins)

4ï¸âƒ£ Comms Workspace â€“ Toolbar & Slicing

Design toolbar buttons in the Comms workspace that slice emails by classification, e.g.:

Requires Task

Requires Reply

Urgent

Opportunities

Information Only

All / Outstanding

These are workflow views, not filters buried in a sidebar.

5ï¸âƒ£ Email as Workflow (Micro-Tasks)

Redesign email presentation so emails are:

micro-tasks

explicitly worked, not passively read

Core behaviour:

Emails must be checked off to disappear

Inbox goal = zero entries

6ï¸âƒ£ Task Enforcement Rules (Critical)

Rules:

If requires_task = true, the email cannot be completed until:

the user explicitly marks â€œno task requiredâ€ OR

a task has been created and completed

Provide one-click â€œCreate Taskâ€:

Pre-populate task form with:

client

summary

suggested description

due date (if inferred)

related email link

7ï¸âƒ£ Reply Enforcement

Rules:

If requires_reply = true:

The email micro-task is marked complete only when a reply is sent

Reply detection logic should be documented.

8ï¸âƒ£ SLA & Performance Tracking

Design SLA tracking for:

All emails where requires_reply = true

Include:

Time received â†’ time replied

Breach detection

Aggregation by user, client, team

9ï¸âƒ£ Manual Overrides & Auditability

Users must be able to:

Add or remove classifications manually

Example:

information_only = true â†’ removed

requires_reply = true â†’ added

System must:

Track overrides

Record who changed what and why

Re-evaluate completion rules after changes

ğŸ¯ Core Objective (Do Not Lose This)

The primary outcome of this system is:

Allow users to allocate focused, productive time to communications, with the explicit goal of reducing the Comms view to zero entries by consciously working and completing email-tasks.

This is workflow management, not inbox management.

ğŸ“„ Deliverable Required From You

Produce a planning document that includes:

Architecture overview

Data flow (high level)

State transitions for an email

UI/UX behaviour descriptions

Edge cases and failure modes

Clear separation of responsibilities (rules vs AI vs human)

Do not write code.
Do not implement.
Plan only.