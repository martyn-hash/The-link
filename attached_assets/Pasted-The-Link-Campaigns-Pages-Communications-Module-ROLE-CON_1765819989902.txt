The Link – Campaigns & Pages Communications Module

ROLE & CONTEXT
You are the Lead Product Architect for The Link, an internal practice management platform for an accountancy firm.
Your task is to design a comprehensive Campaigns & Pages communications module that allows the firm to:
* Communicate at scale with clients and contacts
* Nudge behaviour (missing data, deadlines, engagement)
* Upsell services in a targeted, ethical, non-spammy way
* Measure engagement and commercial impact
This is workflow-driven client communications, not marketing automation.
You must plan and specify the system in detail. ❌ Do not write code ❌ Do not implement ✅ Do design architecture, logic, data flow, and UI behaviour

HIGH-LEVEL GOALS
1. Enable powerful client-centric targeting using business logic, not static lists
2. Support multi-channel outbound campaigns:
    * Email (SendGrid)
    * SMS (Voodoo)
    * AI voice (webhook-driven, selective use)
3. Allow optional creation of Campaign Pages:
    * Personalised
    * Trackable
    * Action-driven (not brochure pages)
4. Log every interaction back to the client record
5. Provide simple, accountant-friendly analytics
6. Make campaigns fast to build, safe to preview, and hard to misuse accidentally

MODULE STRUCTURE
The module consists of two tightly-linked parts:
1. Campaigns
2. Pages (optional per campaign)

1️⃣ CAMPAIGNS – DETAILED SPECIFICATION
1.1 Campaign Creation Flow
Campaign creation follows these steps:
1. Define Target Criteria
2. Resolve Recipients
3. Create Message(s)
4. (Optional) Attach Campaign Page
5. Preview & Validate
6. Send
7. Track & Analyse
Each step must be navigable, save state automatically, and allow returning later.

1.2 Targeting Engine (Core Power)
Targeting is client-first, not contact-first.
Filtering Philosophy
* Filters operate on clients
* Contacts are resolved after the client list is built
* All filters support:
    * Has / Does Not Have
    * Inclusive AND / OR logic
    * Date ranges where applicable
Required Filter Categories
Client Type & Status
* Client is Company / Individual
* Client status (Active / Dormant / Ceased / Prospect)
* Client manager = X
* Fee band / monthly fee range (need to add this field)
Services & Revenue
* Has service X
* Does NOT have service X (critical for upsells)
* Has service X but not service Y

Projects & Compliance
* Has active project type X
* Has NO active project type X
* If has project, project stage = X
* Accounts due within date range
* Confirmation statement due within date range
* VAT quarter due within date range
* Has overdue project(s)

Data Completeness (Behavioural Gold)
* Missing UTR
* Missing PAYE ref
* Missing Companies House auth code
* Docs outstanding > X days
* All other fields that look sensible stored against the client
Engagement & Behaviour
* Opened last campaign (yes/no)
* Clicked campaign link (yes/no)
* Took action on page (yes/no)
* Ignored last X chases
* Last contact date > X days ago
* Portal login within last X days (yes/no)

1.3 Recipient Resolution
Once clients are matched:
Recipient Rules
* Send to:
    * Primary contact only
    * All related contacts
    * Role-based contacts (Director, Finance, Payroll)
* Resolve channel availability:
    * Email present?
    * Phone present?
* Deduplicate recipients per channel
Review Step
* Show final recipient list
* Show why each recipient is included
* Allow:
    * Remove individual recipients
    * Add specific people manually

1.4 Message Creation
Channels
* Email (rich text + attachments)
* SMS (plain text + short links)
* AI Voice (script + variables)
Campaigns may use one or multiple channels.
Merge Fields
* Support full merge field library (shared with reminders/projects)
* Merge fields may be used in:
    * Subject
    * Body
    * Page content
    * Page buttons
Each merge field must support:
* Required / optional flag
* Fallback value
* Behaviour on missing:
    * Warn only
    * Block send
    * Auto-substitute fallback
Example:

{{ accounts_due_date | fallback:"your upcoming deadline" }}
AI Assistance (Optional, Controlled)
Provide helper actions:
* Rewrite for clarity
* Make more direct
* Soften tone
* Shorten for SMS
* Convert email → voice script
* Add gentle upsell CTA
No fully autonomous message generation.

1.5 Preview & Validation
Before sending:
* Preview message as specific recipients
* Highlight missing merge data
* Preview email, SMS, and page
* Show estimated send volume
* Require confirmation for AI voice

1.6 Sending & Logging
Delivery
* Email via SendGrid
* SMS via Voodoo
* Voice via webhook with variables
Logging (Non-Negotiable)
For each recipient:
* Campaign name
* Channel
* Message snapshot
* Timestamp
* Delivery status
* Engagement events
All entries appear in:
* Client comms timeline
* Campaign analytics

2️⃣ PAGES – DETAILED SPECIFICATION
Pages are optional, but designed to be high-impact.
They are not websites. They are action surfaces.

2.1 Page Use Cases
Examples:
* Xmas hours info page
* HMRC change explainer
* Missing docs checklist
* Service upsell (e.g. Management Accounts)
* Deadline urgency page
* “Are you interested?” conversion page

2.2 Page Components
Pages are built from components.
Core Components
* Text blocks (rich text)
* Images
* Tables
* Buttons
* Forms (rarely used)
Advanced Components
* Callout blocks (info / warning / success)
* Status widgets:
    * “Your accounts are currently: Waiting for documents”
* Timeline / step components
* FAQ accordion
* Comparison tables (Plan A vs Plan B)
* Video embeds
* Document lists (guides, PDFs)
Layout System
* Section-based
* Rows
* Columns (1–4)
* Responsive by default
* No free-form drag chaos

2.3 Smart Actions (Critical)
Prefer one-click actions over forms.
Examples:
* “I’m interested”
* “I’ve uploaded documents”
* “Book a call”
* “Request extension”
Each action:
* Identifies the recipient automatically
* Logs interaction
* Can:
    * Create task
    * Change project stage
    * Notify assigned staff

2.4 Page Personalisation
Pages support:
* Merge fields
* Conditional sections (optional future)
* Preview as recipient

2.5 Page Analytics
Track:
* Page views
* Unique visitors
* Button clicks
* Actions taken
Link page engagement back to:
* Recipient
* Client
* Campaign

3️⃣ CAMPAIGN ANALYTICS
Keep this simple and actionable.
Per Campaign Metrics
* Sent
* Delivered
* Opened %
* Clicked %
* Action taken %
* Ignored %
* Revenue influenced (where applicable)
Breakdowns
* By client manager
* By service
* By campaign type:
    * Chase
    * Informational
    * Upsell
This is a commercial coaching tool, not a marketing vanity dashboard.

4️⃣ DESIGN PRINCIPLES
* Client-centric, not list-centric
* Behaviour-aware, not spammy
* Workflow-triggered, not broadcast-driven
* Simple UI, powerful logic
* Everything logged
* Everything previewable

FINAL OUTPUT REQUIRED FROM YOU (AGENT)
Produce:
1. A clean architecture overview
2. Clear data flow diagrams (described in text)
3. Detailed logic for targeting & recipient resolution
4. Component breakdown for Pages
5. Campaign lifecycle state transitions
6. Analytics model (what is measured, where it’s stored)
7. Clear assumptions and constraints
❌ Do not write code ❌ Do not implement ✅ Plan precisely so a dev can build this cleanly
